function ModalShare(e){this.config=e,e&&this.init()}function PlayerModalShare(e,t){this.config=$.extend(e,t.config),this.sslastscreen=t,e&&this.init(),this.gaCategory=this.config.gaCategory?this.config.gaCategory:t.gaCategory}function SSLastScreen(e){this.config=e,this._init()}function SSReplayScreen(e){this.config=e,this.html=e.settings.html,this._init()}function SSShareWidgets(e){this.gaCategory=e.gaCategory,this.container=e.container}function SSShareOptions(e){this.config=e,this.renderTo=e.renderTo,this.html=this.config.html,this._init()}function SSSlideDisplayer(e){"undefined"!=typeof e&&(this.config=e,this.slideOffsets=[],this.playerBgColor=e.playerBgColor||"jsplBgColorBigfoot",this.state="initialized",this.zoomIndex=0,this._init())}function SSTouchInteraction(e){this.config=e,this._init()}function SSToolbar(e){this.config=e,this.isClippable=window.slideshare_object&&window.slideshare_object.slideshow.is_clippable,this.GA_EVENTS={viewonss:"toolbar_viewonss",zoomin:"toolbar_zoomin",zoomout:"toolbar_zoomout",viewfullscreen:"toolbar_fullscreen",leavefullscreen:"toolbar_leavefullscreen",gotolastslide:"goto_last_slide",gotofirstslide:"goto_first_slide"},this.GA_EVENTS_SRC={previous:"toolbar_prev",next:"toolbar_next"},this._init(),this._ELEMENTS=this.getElements(e.elementOverrides),this._ELEMENT_PRIORITIES={1:["nav"],5:["viewOnSS"],2:["fullScreen","leaveFullScreen"],3:["share"],4:["goToSlide"],6:["zoomButtons"]},this._BUTTONS=this.getButtons({btnFirst:"#btnFirst",btnPrevious:"#btnPrevious",btnNext:"#btnNext",btnLast:"#btnLast",btnSS:".btnSS",btnViewOnSS:".btnViewOnSS",btnFullScreen:"#btnFullScreen",btnLeaveFullScreen:"#btnLeaveFullScreen",btnZoomOut:"#btnZoomOut",btnZoomIn:"#btnZoomIn",btnFind:".btnFind",btnShare:".btnShare",btnAudio:".btnAudio",btnVolume:".btnVolume"},e.buttonOverrides),this._ELEMENT_VISIBILITY={share:!this.config.disableShare,fullScreen:!this.config.disableFullScreen&&!this.config.isFullScreen,leaveFullScreen:!this.config.disableLeaveFullScreen&&this.config.isFullScreen,viewOnSS:this.config.enableViewSS,zoomButtons:this.config.enableZoomButtons||!1,nav:!this.config.disableNav,goToSlide:!this.config.disableGoToSlide},this._ELEMENT_SECTION={nav:"one",share:"two",fullScreen:"two",leaveFullScreen:"two",goToSlide:"two",viewOnSS:"one",zoomButtons:"two"};var t={small:29,normal:88};"document"==this.config.playerType||"infographic"===this.config.playerType?(this._ELEMENT_WIDTHS={nav:30,share:72,fullScreen:24,leaveFullScreen:24,goToSlide:57,viewOnSS:t[this.config.toolbarClass],zoomButtons:56},this._ELEMENT_SECTION.share="one"):this._ELEMENT_WIDTHS={nav:57,share:35,fullScreen:24,leaveFullScreen:24,goToSlide:57,viewOnSS:t[this.config.toolbarClass]},this.config.toolbarPadding=6}function SSPlayerController(e){"undefined"!=typeof e&&(this.config=e,this.realSlideCount=this.config.slide_count,this.slideCount=this.realSlideCount,this.config.has_video&&(this.slideCount+=this.config.video_slides_count),delete this.config.slide_count,this.mode=this.config.mode,this.config.show_image_player&&"html"===this.config.mode&&(this.mode="image"),this.config.disable_meta=!!this.config.show_image_player,delete this.config.mode,this.currentPosition=0,this.loadingSlides=[],this.loadedSlides=[],this.slideModes={},this.availableBgSizes={},this.availableFallbackSizes={},this.PRELOAD_PRE_LIMIT=2,this.PRELOAD_POST_LIMIT=5,this.FONT_BATCH_COUNT=10,this.DEFAULT_ERROR_SCORE=0,this.AUTOVERIFICATION_ERROR_THRESHOLD=.001,this.AUTOVERIFICATION_THRESHOLDS={"bad v1.0":.001,"bad v1.1":1e-4,"bad v2.0":1e-4},this.MAX_PERCENTAGE_FAILING={"bad v1.0":100,"bad v1.1":20,"bad v2.0":20},this.isEmbed="embed"===this.config.hosted_in,this.isEmbed?this.TOOLBAR_HEIGHT=38:this.TOOLBAR_HEIGHT=56,this.MULTIMEDIABAR_HEIGHT=25,this.config.show_image_player&&(this.MULTIMEDIABAR_HEIGHT=29),this.initialized=!1,this.PRERENDER_COUNT=1,this._init(),this.startSlide=parseInt(this.config.start_slide||1,10),this.play(this.startSlide),this.config.actionButtonsContainer=$("#svPlayerId .action-btns-container, #player .action-btns-container"))}function SSPlayer(e){this.config=e,this._init()}function SSResource(e){"undefined"!=typeof e&&(this.TIMEOUT_LIMIT=1e5,this.RETRY_WAIT_TIME=3e3,this.config=e,this.resourceKey=e.resourceKey,this._init())}function SSSlide(e){"undefined"!=typeof e&&(this.index=e.index,this.realIndex=e.realIndex,this.setContentDimensions(e.contentWidth,e.contentHeight),delete e.contentWidth,delete e.contentHeight,this.config=e,this._init())}function SSFontResource(e){this.resourceTemplate={prefix:e.baseUrl,cacheable:!0,retries:2,isCritical:!1},SSResource.call(this,e)}function SSHtmlResource(e){this.resourceTemplate={prefix:e.baseUrl,key:"page_",suffix:".js?"+e.timestamp,digitLength:4,cacheable:!0,retries:2,isCritical:!0},e.is_private&&void 0===e.signature&&(this.loadBlocked=!0),SSResource.call(this,e)}function SSImageResource(e){"undefined"!=typeof e&&(e.availableSizes?(this.imageVersions=this._mapSizesToVersions(e.availableSizes),delete e.availableSizes,this._setUrlGenerator(e.is_private)):this.loadBlocked=!0,this.contentWidth=e.contentWidth,delete e.contentWidth,SSResource.call(this,e),this.RETRY_WAIT_TIME=1e3,delete this.imageVersions)}function SSMetaResource(e){this.resourceTemplate={url:e.url,cacheable:!0,retries:2,isCritical:!0},SSResource.call(this,e)}function SSBgImageResource(e){this.resourceTemplate={prefix:e.baseUrl,digitLength:3,cacheable:!0,retries:0,isCritical:!0},this.useTimeStamp=!0;var t=e.availableSizes;this.imageVersions=[];for(var i in t)this.imageVersions[parseInt(i,10)]=t[i];e.is_private?(this.useTimeStamp=!1,this._generateUrl=this._generatePrivateUrl):this._generateUrl=this._generateUrl,SSImageResource.call(this,e)}function SSFallbackImageResource(e){this.resourceTemplate={prefix:e.baseUrl,digitLength:1,cacheable:!0,retries:0,isCritical:!0},this.useTimeStamp=!0,SSImageResource.call(this,e)}function SSBandInteraction(e){this.config=e,this._init()}function SSInfographicDisplayer(e){"undefined"!=typeof e&&SSSlideDisplayer.call(this,e)}function SSInfographicSlide(e){SSSlide.call(this,e),this.padding=5,"slideview"===this.config.hosted_in&&this.bindScrollEvents()}function SSPresentationDisplayer(e){"undefined"!=typeof e&&(SSSlideDisplayer.call(this,e),this.zoomLevels=[1],this.prerenderedSlides=[],!e.isTouch&&this.initPointlyFinger())}function SSPresentationSlide(e){SSSlide.call(this,e),this.PADDING=0}function SSVideoEmbedSlide(e){SSPresentationSlide.call(this,e),this.config=e,this.PLAYER_UNINITIALIZED=-1,this.PLAYER_AUTOHIDE=2,this.ENABLE_JS_API=1,this.PADDING=0,this.RELATED_VIDEOS=0,this.playerReady=!1,this._initVideoSlidesLoading()}!function(e){function t(e,t){return c.call(e)===t}function i(t,i){var n,r=t.split("."),o=r.length,s=e,a=0;for(a;a<o;a++){if(n=r[a],!s[n]){if(!i)return null;s[n]=a+1===o?i:{}}s=s[n]}return s}function n(){var t=e.document.querySelectorAll(g);S.i18n_locale(),Array.prototype.slice.call(t).forEach(function(e){var t=JSON.parse(e.content);Object.keys(t).forEach(function(e){i(s+e,t[e])})})}var r="slideshare_object",o=r+"._modules.",s=r+"._i18n.",a=!1,l="en",d=/[^a-zA-Z\d\-_]/g,c=Object.prototype.toString,h="[object String]",u="[object Number]",p="[object Array]",f="[object Object]",g='meta[name="ss-i18n-translations"]',S={},m={en:"en_US",fr:"fr_FR",es:"es_ES",pt:"pt_BR",de:"de_DE"};S.i18n_locale=function(){if(!a){var e=document.documentElement.lang||l;a=m[e]||m[l]}return a},S.isString=function(e){return t(e,h)},S.isNumber=function(e){return t(e,u)},S.isArray=function(e){return t(e,p)},S.isPlainObject=function(e){return t(e,f)},S.addClass=function(e,t){return(e=e&&1===e.nodeType?e:document.querySelector(e))?(e.className?new RegExp("\\b"+t+"\\b").test(e.className)||(e.className+=" "+t):e.className=t,e):null},S.sanitizeForCSS=function(e){return e.replace(d,"-")},S.isUserAuthenticated=function(){var t=e[r].user;return"non-member"!==t.member_type&&t.loggedin!==!1&&"guest"!==t.login},S.i18n=function(e,t){if(i(s)||n(),e){var r=i(s+e);if(r&&t&&window.xmessage){var o=window.xmessage.fromString(r,a);Array.isArray(t)||(t=[t]),r=o(t)}return r}return i(s.slice(0,-1))},S.exports=function(e,t){i(o+e,t)},S.imports=function(e){return i(o+e)},i(r+".utils",S)}(window),function(e,t,i,n){var r=e(t);e.fn.lazyload=function(o){function s(){var t=0;l.each(function(){var i=e(this);if(!d.skip_invisible||i.is(":visible"))if(e.abovethetop(this,d)||e.leftofbegin(this,d));else if(e.belowthefold(this,d)||e.rightoffold(this,d)){if(++t>d.failure_limit)return!1}else i.trigger("appear"),t=0})}var a,l=this,d={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return o&&(n!==o.failurelimit&&(o.failure_limit=o.failurelimit,delete o.failurelimit),n!==o.effectspeed&&(o.effect_speed=o.effectspeed,delete o.effectspeed),e.extend(d,o)),a=d.container===n||d.container===t?r:e(d.container),0===d.event.indexOf("scroll")&&a.bind(d.event,function(){return s()}),this.each(function(){var t=this,i=e(t);t.loaded=!1,i.attr("src")!==n&&i.attr("src")!==!1||i.is("img")&&i.attr("src",d.placeholder),i.one("appear",function(){if(!this.loaded){if(d.appear){var n=l.length;d.appear.call(t,n,d)}e("<img />").bind("load",function(){var n=i.attr("data-"+d.data_attribute);i.hide(),i.is("img")?i.attr("src",n):i.css("background-image","url('"+n+"')"),i[d.effect](d.effect_speed),t.loaded=!0;var r=e.grep(l,function(e){return!e.loaded});if(l=e(r),d.load){var o=l.length;d.load.call(t,o,d)}}).attr("src",i.attr("data-"+d.data_attribute))}}),0!==d.event.indexOf("scroll")&&i.bind(d.event,function(){t.loaded||i.trigger("appear")})}),r.bind("resize",function(){s()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&r.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&l.each(function(){e(this).trigger("appear")})}),e(i).ready(function(){s()}),this},e.belowthefold=function(i,o){var s;return s=o.container===n||o.container===t?(t.innerHeight?t.innerHeight:r.height())+r.scrollTop():e(o.container).offset().top+e(o.container).height(),s<=e(i).offset().top-o.threshold},e.rightoffold=function(i,o){var s;return s=o.container===n||o.container===t?r.width()+r.scrollLeft():e(o.container).offset().left+e(o.container).width(),s<=e(i).offset().left-o.threshold},e.abovethetop=function(i,o){var s;return s=o.container===n||o.container===t?r.scrollTop():e(o.container).offset().top,s>=e(i).offset().top+o.threshold+e(i).height()},e.leftofbegin=function(i,o){var s;return s=o.container===n||o.container===t?r.scrollLeft():e(o.container).offset().left,s>=e(i).offset().left+o.threshold+e(i).width()},e.inviewport=function(t,i){return!(e.rightoffold(t,i)||e.leftofbegin(t,i)||e.belowthefold(t,i)||e.abovethetop(t,i))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(jQuery,window,document),function(e){function t(){var e;this.APP_BASE="slideshare.js.tracking",this._bodyDefaults={},n.user&&n.user.id&&(e={header:{applicationViewerUrn:this.getUrn("User",n.user.id)}},this._bodyDefaults=$.extend({},this._bodyDefaults,e)),"undefined"!==o&&(o.setTrackingUrl(),o.setAppId(this.APP_BASE))}var i,n=e.slideshare_object,r=n.utils,o=window.liTrackClient;r&&!r.imports("tracking.TrackingUtils")&&(i={Clip:"urn:li:slideShareClip:",Clipboard:"urn:li:slideShareClipboard:",Guest:"urn:li:slideShareGuest:",LyndaCategory:"urn:li:lyndaCategory:",LyndaCourse:"urn:li:lyndaCourse:",LyndaVideo:"urn:li:lyndaVideo:",LeadCampaign:"urn:li:slideShareLeadCampaign:",Slideshow:"urn:li:slideShareSlideshow:",User:"urn:li:slideShareUser:"},t.prototype={constructor:t,getAppId:function(e){return e?this.APP_BASE+"."+e:this.APP_BASE},recordTrackingEvent:function(e,t,i,n){var r;if(i=$.extend({},this._bodyDefaults,i),!window.liTrackClient)throw new Error("liTrackClient is not initialized");r={eventInfo:{eventName:t,appId:e},eventBody:i},n?o.trackWithCallback(r,n):o.track(r)},generateTrackingID:function(e){var t,i="",r="0000";for(e=e||16,"undefined"!=typeof n&&"undefined"!=typeof n.slideshow&&null!==n.slideshow.id&&(t=parseInt(n.slideshow.id).toString(16).slice(-4),i+=(r+t).slice(-r.length)),null!==cookie("_uv_id")&&(t=parseInt(cookie("_uv_id")).toString(16).slice(-4),i+=(r+t).slice(-r.length)),e-=i.length;e--;)i+=Math.floor(16*Math.random()).toString(16).toUpperCase();return i},getUrn:function(e,t){return t?i[e]?i[e]+t:"urn:li:slideShare"+e+":"+t:null},getPageKey:function(){var e=/^pagekey-(.+)$/.exec(document.body.id);if(e)return e[1]},getSlideShareGuest:function(){return cookie("_uv_id")}},r.exports("tracking.TrackingUtils",t))}(window),function(e){function t(e){this._groups=this._validateGroups(e)}var i=e.slideshare_object.utils;t.prototype={isValid:function(){return this._groups.length>0},containsUser:function(){return this._groups.some(function(e){var t=this._getValidationMethod(e);return t&&t.call(this)},this)},_validateGroups:function(e){return e=i.isArray(e)?e:[e],e.filter(function(e){return t.GROUPS.indexOf(e)!==-1})},_getValidationMethod:function(e){return this["_userIs"+e.charAt(0).toUpperCase()+e.slice(1)]},_getUser:function(){return e.slideshare_object.user},_userIsSuperuser:function(){var e=this._getUser();return e&&e.su},_userIsCompany:function(){var e=this._getUser();return e&&e.li}},t.GROUPS=["superuser","company"],i.exports("Whitelist",t)}(window),function(e,t){function i(){var e=t[i.LS_NAMESPACE]&&JSON.parse(t[i.LS_NAMESPACE]);this._experiments=e||{}}var n=e.slideshare_object.utils,r=n.imports("Whitelist");i.prototype={is:function(e,t){return this.getBucket(e)===t},getExperiment:function(e){return this._experiments[e]},getBucket:function(e){var t=this.getExperiment(e);return t&&t.bucket},isOverride:function(e){var t=this.getExperiment(e);return t&&t.override},deleteExperiment:function(e){return this.isOverride(e)?null:(delete this._experiments[e],this._save())},addClass:function(e,t){var i=this.getBucket(t);return i&&n.addClass(e,"exp--"+n.sanitizeForCSS(t)+"--"+n.sanitizeForCSS(i)),this},register:function(e,t,i){var n=new r(i),o=this.getBucket(e);if(n.isValid()){if(n.containsUser()){if(!o)return this._save(e,this._assign(t))}else if(o)return this.deleteExperiment(e)}else if(!o)return this._save(e,this._assign(t));return o},override:function(e,t){return this._save(e,this._assign(t),!0)},ga:function(e,t,i,n,r,o){var s=this.getBucket(e);return s&&_gaq.push(["_trackEvent",t,i,s+"_"+n,r,!!o]),null},_assign:function(e){return n.isNumber(e)&&(e=[e]),n.isArray(e)?this._assignFromArray(e):n.isPlainObject(e)?this._assignFromObject(e):n.isString(e)?e:null},_assignFromArray:function(e,t){var n,r,o=100,s=Math.random();for(t=t||i.BUCKETS,e[e.length-1]!==o&&e.push(o),n=0,r=e.length;n<r;n++)if(s<=e[n]/o)return t[n]||i.BUCKETS[n];return null},_assignFromObject:function(e){var t,i=[],n=[];for(t in e)i.push(t),n.push(e[t]);return this._assignFromArray(n,i)},_save:function(e,n,r){var o=this._experiments;return n=n||null,e&&(o[e]={bucket:n},r&&(o[e].override=!0)),t[i.LS_NAMESPACE]=JSON.stringify(this._experiments),n}},i.BUCKETS="a b c d e f".split(" "),i.LS_NAMESPACE="slideshare.experiments",n.exports("Experiments",i)}(window,window.localStorage||{}),function(e){var t=e.slideshare_object.utils.imports("Experiments"),i=new t;i.deleteExperiment("slideview-clip-button"),i.deleteExperiment("slideview-clip-button-exp-2"),i.deleteExperiment("slideview-clip-button-exp-3")}(window),function(e){function t(e){var e=e||{};this.trackingUtils=new i,this.pageKey=ssClientUtils.li.getPageKey(),this.appId=e.appId||this.trackingUtils.getAppId("sharing"),this.trackingId=e.trackingId||this.trackingUtils.generateTrackingID(),this.bodyDefaults={sharingTrackingId:this.trackingId,isOwner:!1,isEmbed:!1,requestHeader:{pageKey:this.pageKey,path:window.document.location.pathname,userAgent:window.navigator&&window.navigator.userAgent}}}var i=slideshare_object.utils.imports("tracking.TrackingUtils"),n={SlideShareExternalShareEvent:"SlideShareExternalShareEvent"},r={slideshow:"Slideshow"},o={directlink:"DIRECT_LINK",email:"EMAIL",facebook:"FACEBOOK",linkedin:"LINKEDIN",pinterest:"PINTEREST",twitter:"TWITTER"};t.prototype.track=function(e,t){var t=$.extend({},this.bodyDefaults,t);this.trackingUtils.recordTrackingEvent(this.appId,e,t)},t.prototype.shareSlideShow=function(e){var e=e||{},t=e.entityId,i=o[e.shareType];if(null!=t&&null!=i)return this.track(n.SlideShareExternalShareEvent,{entityUrn:ssClientUtils.li.getUrn(r.slideshow,t),shareType:i,isOwner:e.isOwner,isEmbed:e.isEmbed})},e.ShareTracker=t}(window.slideshare_object),ModalShare.prototype.init=function(){this.$container=$(this.config.el),this.$shareBtn=$(this.config.btnShare),this.$shareEmailMsg=this.$container.find(".j-share-email-msg"),this.$addMsgButton=this.$container.find(".j-add-msg"),this.$emailSentButton=this.$container.find(".j-email-sent"),this.$shareEmailSend=this.$container.find("#share-email-send"),this.$shareEmailForm=this.$container.find(".j-share-email-form"),this.$linkURLInput=this.$container.find(".j-share-link-url"),this.$close=this.$container.find(".j-modal-close"),this.$contentWrapper=this.$container.find(".modal-content-wrapper"),this.gaTrackCategory=this.$container.data("ga-track-category"),this.gaTrackAction=this.$container.data("ga-track-action"),this.shareTracker=new slideshare_object.ShareTracker,this.createShareHash(),slideshare_object&&slideshare_object.user&&slideshare_object.user.loggedin===!0&&null!==slideshare_object.user.login&&this.$container.find(".j-share-email-name").val(slideshare_object.user.login),this.bindModalToShareButtons(),this.bindModalEvents(),this.bindCustomModalEvents(),this.adjustShareModalTop()},ModalShare.prototype.get_viral_share_url=function(e){$elem=$("li."+e+" a");var t=this.data.ssLink;return $elem.length>0&&(t=$.param($elem.data()),!t&&(t=this.data.ssLink)),this.SHARE_HASH[e]+t},ModalShare.prototype.get_viral_share_urls=function(){return{facebook:this.get_viral_share_url("facebook"),linkedin:this.get_viral_share_url("linkedin"),twitter:this.get_viral_share_url("twitter"),wordpress:this.get_viral_share_url("wordpress"),pinterest:this.get_viral_share_url("pinterest")}},ModalShare.prototype.sharePopup=function(e){var t=626,i=436,n=this.data.social[e];if(void 0!==n){if("facebook"===e){if(window.FB)return void this.postToFacebook()}else if("linkedin"===e&&window.IN&&window.IN.UI)return IN.UI.Share().params({url:this.data.ssLink}).place(),void this.saveShare(e);window.open(n,"shareDialog","width="+t+",height="+i),this.saveShare(e)}},ModalShare.prototype.show=function(){this.reset(),this.$container.show(),this.shareGATracking("modalOpen")},ModalShare.prototype.close=function(){this.reset(),this.$container.hide()},ModalShare.prototype.reset=function(){this.$container.find(".j-embed-use-ssl-cbox").prop("checked",!1),$(".j-modal-popup").scrollTop(0),this.clearEmailFields(),this.$shareEmailForm.show(),this.$emailSentButton.hide(),this.collapseAllSections()},ModalShare.prototype.updateEmbed=function(){var e=this.$container.find(".j-share-embed-link"),t=e.val(),i=this.$container.find(".j-embed-size-picker").val(),n=this.$container.find(".j-embed-size-picker :selected").data("width")||this.config.embed_sizes.presets[i].size.width,r=this.$container.find(".j-embed-size-picker :selected").data("height")||this.config.embed_sizes.presets[i].size.height,o=t.match(/src="([^"]+)"/)[1].split("?")[0],s=this.$container.find(".j-embed-start-picker").prop("selectedIndex")+1||1;o+=s>1?"?startSlide="+s:"",t=t.replace(/src="[^"]+"/,'src="'+o+'"'),t=t.replace("http:",""),t=t.replace("https:",""),t=t.replace(/height="\d+"/,'height="'+r+'"'),t=t.replace(/width="\d+"/,'width="'+n+'"'),e.val(t)},ModalShare.prototype.clearEmailErrorAlerts=function(){$(".error").removeClass("error")},ModalShare.prototype.clearEmailFields=function(){this.$container.find(".j-email-clear").val(""),this.$shareEmailSend.prop("disabled",!1),this.clearEmailErrorAlerts()},ModalShare.prototype.sendShareEmail=function(e){this.shareGATracking("share_email","send");var t=this,i=this.$container.find(".j-share-email-to").val(),n=this.$container.find(".j-share-email-name").val(),r=this.$shareEmailMsg.val(),o=!1;t.$shareEmailSend.val(""),t.$shareEmailSend.addClass("sending"),t.$shareEmailSend.prop("disabled",!0),t.clearEmailErrorAlerts(),o||(o=!0,$.post("/w/list/email_share",{data:{id:this.data.ssId,name:n,recipients:i,msg:r},dataType:"json"}).done(function(e){if(0===e.respCode)t.clearEmailFields(),t.$shareEmailForm.slideUp(400),t.collapseAllSections(),t.$container.find("#email-sent").slideDown(400),setTimeout(function(){t.$container.find("#email-sent").slideUp(400),t.$shareEmailForm.slideDown(400)},2e3),t.$contentWrapper.removeClass("email-expanded"),t.trackShareEvent({entityId:t.data.ssId,shareType:"email",entityAuthorId:t.data.authorId,isEmbed:t.config.isEmbed||!1});else{var i=t.$container.find(".j-email-flash");switch(i.text(e.resp).show(),e.respCode){case 1:t.$container.find(".j-share-email-to").addClass("error");break;case 2:t.$container.find(".j-share-email-name").addClass("error")}setTimeout(function(){i.fadeOut(400)},5e3)}o=!1,t.$shareEmailSend.val("Send"),t.$shareEmailSend.removeClass("sending"),t.$shareEmailSend.prop("disabled",!1)}).fail(function(e,i,n){o=!1,t.$shareEmailSend.val("Send"),t.$shareEmailSend.removeClass("sending"),t.$shareEmailSend.prop("disabled",!1)}))},ModalShare.prototype.shareGATracking=function(e,t){var i=window._gaq||[];e=this.gaTrackAction?this.gaTrackAction+"_"+e:e,i.push(["_trackEvent",this.gaTrackCategory,e,t])},ModalShare.prototype.renderSlideStartOptions=function(){for(var e="",t=0;t<this.data.totalSlides;t++){var i="slide "+(t+1);e+="<option ",0===t&&(e+=' selected="selected"'),e+=">"+i+"</option>"}var n=this.$container.find(".j-embed-start-picker, .j-share-start-picker");n.empty(),n.append(e),this.updateStartSlide()},ModalShare.prototype.renderDefaultEmbedOptions=function(){var e,t={0:{small:[344,292],medium:[429,357],large:[514,422],"default":[599,487]},1:{small:[386,410],medium:[481,512],large:[576,614],"default":[672,716]},3:{small:[340,191],medium:[425,239],large:[510,287],"default":[595,335]}};e=3===this.data.ssType?t[3]:t[this.data.ssType%2];var i="";for(var n in e){var r=e[n][0]+" x "+e[n][1];i+='<option value="'+n+'" data-width="'+e[n][0]+'" data-height="'+e[n][1]+'"',"default"===n&&(i+=" selected"),i+=">"+r+"</option>"}var o=this.$container.find(".j-embed-size-picker");o.empty(),o.append(i),this.$container.find(".j-embed-start-picker").prop("selecteIndex",1),this.$container.find(".j-share-embed-wp").val(this.data.social.wordpress),this.$container.find(".j-share-embed-link").text(this.data.embedCode)},ModalShare.prototype.toggleAddMessageHeight=function(e){this.$shareEmailMsg.toggleClass("msg-expanded",e)},ModalShare.prototype.collapseAllSections=function(){$(".j-share-expand").slideUp(),$("#share-embed-link").scrollTop(0),$(".j-triggered").removeClass("j-triggered"),this.toggleAddMessageHeight(!1)},ModalShare.prototype.triggerExpand=function(e){this.collapseAllSections(),$(e).addClass("j-triggered"),$(e).siblings(".j-share-expand").slideDown(400,this.adjustShareModalTop.bind(this)),this.$contentWrapper.removeClass("email-expanded embed-expanded"),$(e).hasClass("j-share-email-to")?this.$contentWrapper.addClass("email-expanded"):$(e).hasClass("j-share-embed-link")&&this.$contentWrapper.addClass("embed-expanded")},ModalShare.prototype.getNewSlideURL=function(e,t){var i=document.createElement("a");i.href=e;var n=i.pathname.split("/");n[0]||n.shift();for(var r=n.length,o=n[r-1];!o&&r>0;)n.pop(),r--,o=n[r-1];return parseInt(o,10)&&r>2&&n.pop(),t>1&&n.push(t),i.pathname=n.join("/"),i.href},ModalShare.prototype.getSlideImageURL=function(e){return $('#svPlayerId .slide[data-index="'+e+'"] .slide_image').data("full")},ModalShare.prototype.bindModalEvents=function(){var e=this;this.$close.bind("click",function(){e.close()}),this.$container.find(".j-share-start-picker").change(function(t){e.updateStartSlide(),e.shareGATracking("share_social",$(this).data("ga"))}),this.$shareEmailForm.submit(function(t){t.preventDefault(),t.stopPropagation(),e.sendShareEmail()}),this.$shareEmailMsg.click(function(){e.toggleAddMessageHeight(!0)}),this.$container.find(".j-share-email-to, .j-share-email-name").click(function(t){e.toggleAddMessageHeight(!1)}),this.$container.find(".j-share-social-list li").click(function(t){e.sharePopup($(this).data("network")),e.trackShareEvent({entityId:e.data.ssId,shareType:$(this).data("network"),entityAuthorId:e.data.authorId,isEmbed:e.config.isEmbed||!1}),t.preventDefault()}),this.$container.find(".j-update-embed").change(function(){e.updateEmbed()}),this.$container.find(".j-share-embed-link, .j-share-embed-wp, .j-last-screen-ssurl").bind("click",function(){this.select()}),this.$container.find(".j-share-link-url").click(function(){this.select(),e.shareGATracking("share_social",$(this).data("ga"))}),this.$container.find(".j-share-email-form input, .j-share-email-form textarea, .j-add-msg, .j-send-another-email").click(function(t){"send"!==$(this).data("ga")&&e.shareGATracking("share_email",$(this).data("ga"))}),this.$container.find(".j-embed-use-ssl-cbox, .j-embed-related-cbox, .j-embed-size-picker, .j-embed-start-picker").click(function(){e.shareGATracking("share_embed",$(this).data("ga"))}),this.$container.find(".j-share-expand-trigger").focus(function(){$(this).siblings(".j-share-expand:visible").length>0||e.triggerExpand(this)}),$(window).resize(function(){e.adjustShareModalTop()}),$(document).keydown(function(t){27===t.which&&(t.preventDefault(),e.close())}),$(".j-modal-popup").on("scroll",function(t){e.$close.css("top",8+$(this).scrollTop()+"px")})},ModalShare.prototype.bindCustomModalEvents=function(){},ModalShare.prototype.createShareHash=function(){this.SHARE_HASH={facebook:"https://www.facebook.com/sharer/sharer.php?",linkedin:"https://www.linkedin.com/cws/share?trk=SLIDESHARE&",twitter:"https://twitter.com/share?",wordpress:"",pinterest:"https://pinterest.com/pin/create/button/?"}},ModalShare.prototype.getSSId=function(e){return e.length?e.data("slideshowid"):slideshare_object.modal_player.get_ss_id()},ModalShare.prototype.bindModalToShareButtons=function(){},ModalShare.prototype.trackShareEvent=function(e){var t=e||{},i=t.isEmbed||!1,n=t.entityAuthorId&&window.slideshare_object.user&&t.entityAuthorId===window.slideshare_object.user.id||!1;this.shareTracker.shareSlideShow({entityId:t.entityId,shareType:t.shareType,isOwner:n,isEmbed:i})},ModalShare.prototype.saveShare=function(e){var t=this;$.get("/account/get_form_authenticity_token").done(function(i){$.post("/share/viralshare",{data:{id:t.data.ssId,network:e},authenticity_token:i.auth_token})})},ModalShare.prototype.showLikeUsModal=function(){},ModalShare.prototype.postToFacebook=function(){var e=this;if(window.FB){var t=function(t){t&&t.post_id&&e.saveShare("facebook")};FB.ui({method:"feed",display:"popup",link:this.data.ssLink},t)}},ModalShare.prototype.adjustShareModalTop=function(){},ModalShare.prototype.updateStartSlide=function(){},function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("jSecure",t):e.jSecure=t()}(this,function(){"use strict";function e(){}function t(){return"undefined"==typeof document||"textContent"in document.createElement("div")}function i(e,t){if(t=t||"log",window&&window.jet&&"error"===t.toLowerCase())try{throw new Error(e)}catch(i){try{window.jet.error(i)}catch(n){}}"undefined"!=typeof console&&"function"==typeof console[t]&&console[t](e)}function n(e){return j(F(e))}function r(e){return i("jSecure.text() is deprecated. Please use jSecure.htmlEncode().","warn"),j(e)}function o(e){return/[<&]/.test(e)}function s(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function a(e){return e.reduce(function(e,t){return e.concat(t)},[])}function l(e){e=N(e)?e:[e];var t,i,n,r=0,o="<(?!/?";return o+="(?:",D(e,function(e,s){t=e.tags||x,i=e.attrs||P,n=e.checkUrlAttrs||!1,0!==s&&(o+="|"),o+="(?:"+t.join("|")+")",o+="(?:",o+=O,o+="|"+B,o+="(?:(?:",o+="(?:"+i+")(?:=([\"'])[^'\"<>]*\\"+ ++r+")?",n&&(o+="|(?:"+L+")=([\"'])(?:(?:"+R+")(?::|&#(?:58|x3a);)|(?:"+A+")|[/.#?]|&#(?:35|4[67]|63|x(?:2[3ef]|3f));)[^'\"<>]*\\"+ ++r),o+=")"+O+")+",o+=")"}),o+=")",o+="/?>)",new RegExp(o,"i")}function d(e){return e=e||x,l({tags:e,checkUrlAttrs:!0})}function c(){var e={tag:"li-icon",attrs:"active|a11y-text|animate|color|size|type"};return l([{tags:x,checkUrlAttrs:!0},{tags:[e.tag],attrs:[T,e.attrs].join("|"),checkUrlAttrs:!1}])}function h(e,t){var i;t=t||{};var n=t.allowTags,r=t.hasCustomElementMarkup!==!1;return n?(i=d(n),!i.test(e)):r?!h.R_UNSAFE_CUSTOM_ELEMENT.test(e):!h.R_UNSAFE_HTML.test(e)}function u(e){return e.replace(/<[^>]*>|[<>'"&\\]/g,"")}function p(e,t,n){if(null===e||"undefined"==typeof e)return null;e=e.toString();var r=t?f(e,t):e,s=e;return o(r)&&!h(r,n)&&(r=u(r),i("Content contains non-whitelisted tags or attributes:\nContent: "+s,"error")),r}function f(t,i){var n={};return t.replace(/\{([^}]+)\}/g,function(t,r){var o,s,a=t;if(n.hasOwnProperty(r))return n[r];if(i.hasOwnProperty(r)){if(a=i[r],o="string"==typeof a,s="number"==typeof a,!(o||a instanceof e||s))throw new Error("Only strings, numbers, and jSecure types are allowed as placeholder replacements.");a=o?j(a):a.toString()}return n[r]=a,a})}function g(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n];return e.length=r,e}function S(e,t){var i,n,r,o,s,a,l,d,c=t.createDocumentFragment(),h=[];for(a=0,d=e.length;a<d;a++)if(s=e[a],s||0===s)if("string"==typeof s){for(o=o||c.appendChild(t.createElement("div")),i=(U.exec(s)||["",""])[1].toLowerCase(),n=z[i]||z._default,r=n[1]+s+n[2],v(o,r),l=n[0];l--;)o.lastChild&&o.lastChild.nodeType===Node.ELEMENT_NODE&&(o=o.lastChild);g(h,o.childNodes),o=c.firstChild,o.textContent=""}else g(h,s.nodeType?[s]:s);for(c.textContent="",a=0,s=h[a];s;)c.appendChild(s),a++,s=h[a];return c}function m(e,t){t=t||document.implementation&&document.implementation.createHTMLDocument?document.implementation.createHTMLDocument(""):document;var i;if("string"==typeof e)i=S([e],t);else{if(!N(e))return e;i=S(e,t)}return g([],i.childNodes)}function v(e,t,i){var n=p(t,i);return o(n)?e.innerHTML=n:e[$]=n,n}function y(e){var t=/^(?:\s*(<[\w\W]+>)[^>]*)$/;return"string"==typeof e&&t.test(e)?[]:e}function _(e){return e}function w(e,t){return this instanceof w?(t=t||{},t.allowTags=t.allowTags?a(t.allowTags):null,this._string=e,void(this._options=t)):new w(e,t)}function b(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var r="",o=void 0,s=i.length;return e&&e.forEach(function(e,t){r+=e,t<s&&(o=i[t],r+=o instanceof w?o:j(o))}),W(r)}function C(e){var t=void 0,n="invalid://";if("string"!=typeof e)return i("jSecure Warning: url must be a string","error"),n;if(t=e.trim(),t.indexOf(" ")>-1&&(i("jSecure Warning: url should not contain spaces: "+e,"warn"),t=t.replace(Y,"+")),!J.test(t))return i("jSecure Error: URL should be absolute with allowed schemas, relative, a hash fragment or query string. "+e,"error"),n;if(Z.test(t))return i("jSecure Error: not valid url character found in url: "+e,"error"),n;var r=t.split("?")[0];return Q.test(r)||X.test(r)||X.test(decodeURI(r))?(i("jSecure Error: malicious data found in url path: "+r,"error"),n):e}function E(e){var t=C(e);t===e&&ee.redirect(t)}var T="aria-[a-z0-9_\\-]+|class|data-[a-z0-9_\\-]+|dir|id|role|tabindex",I="alt|checked|colgroup|cols|colspan|disabled|height|hidden|maxlength|method|multiple|name|placeholder|readonly|rel|required|rows|rowspan|spellcheck|target|title|width",k="border|caption|color|controls|coords|hreflang|label|lang|loop|marginheight|marginwidth|preload|reversed|type|usemap|clear|headers|ismap|start|datetime|accept|max|min|size|step|style|cellspacing|cellpadding",$=t()?"textContent":"innerText",M=["b","del","em","i","s","strong","sub","sup"],x=M.concat(["a","abbr","address","area","article","aside","audio","bdi","bdo","big","blockquote","br","button","center","cite","code","datalist","dd","details","dfn","div","dl","dt","fieldset","figcaption","figure","font","footer","h1","h2","h3","h4","h5","h6","header","hgroup","hr","img","ins","kbd","label","legend","li","map","mark","marquee","nav","nobr","ol","p","pre","q","rp","rt","ruby","samp","section","small","source","span","strike","table","tbody","td","tfoot","th","thead","time","tr","u","ul","var","video","wbr"]),P=[T,I,k].join("|"),L="href|src",A="data:image/(?:gif|jpg|jpeg|png);base64,",R="https?|ftp|mailto",V="&#?[a-zA-Z0-9]{1,10};",j=(new RegExp(V),
function(){var e,t=/[&<>"'\u0000\\=]/g;return e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","\0":"�","\\":"&#92;","=":"&#61;"},function(i){return null===i||"undefined"==typeof i?null:i.toString().replace(t,function(t){return e[t]})}}()),F=function(){function e(e){var i;return r.hasOwnProperty(e)?r[e]:(t.innerHTML="&"+e+";",i=t[$],r[e]=i,i)}var t,i,n=/&(?:([a-z0-9]+)|#x([\da-f]{1,6})|#(\d{1,8}));/gi;if("undefined"==typeof document)return function(){throw new Error("document is undefined (i.e. you are probably in Node.js)")};t=document.createElement("div");var r={nbsp:" ",lt:"<",gt:">",amp:"&",quot:'"'};return i="function"==typeof String.fromCodePoint?function(e){return String.fromCodePoint(e)}:function(e){return e<=65535?String.fromCharCode(e):"�"},function(t){return null===t||"undefined"==typeof t?null:(t+"").replace(n,function(t,n,r,o){return n?e(n):r||o?i(parseInt(r||o,r?16:10)||65533):"�"})}}(),N=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},D=function(){return Array.prototype.forEach?function(e,t){Array.prototype.forEach.call(e,t)}:function(e,t){for(var i=0,n=e.length;i<n;i++)t(e[i],i)}}(),O="[ \t\r\n]*",B="[ \t\r\n]+";h.R_UNSAFE_HTML=d(),h.R_UNSAFE_CUSTOM_ELEMENT=c();var z={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};z.optgroup=z.option,z.tbody=z.tfoot=z.colgroup=z.caption=z.thead,z.th=z.td;var U=/<([\w:]+)/,H=p,W=p;w.prototype=s(new e,{toString:function(){var e=this._string,t=this._stringVal,n=e;return void 0!==t?t:(h(e,this._options)||(n=e,e=u(e),i("UnsafeString contains non-whitelisted tags or attributes.\nString: "+n,"error")),this._stringVal=e,e)}});var G="https?|ftp|mailto|tel|sms|blob|voyager|android-app|linkedin|chrome-extension",q="data:(?:(?:image/(?:gif|jpe?g|png))|(?:application/x-font-woff)|(?:font/(?:opentype|ttf)))[;,]",K="[/.#?]",Y=/ /g,Z=/[\s\u0000<>"]|%00/,Q=/\\/,X=/([.]|%2e){2}/i,J=new RegExp("^(?:"+G+"|"+q+"|"+K+")"),ee={redirect:function(e){window&&(window.location.href=e)}},te={ALLOWED_TAGS:x,FORMATTING_TAGS:M,htmlEncode:j,htmlUnencode:F,log:i,mk:b,parseHTML:m,parseSelector:y,processTemplate:H,reEncode:n,_redirector:ee,redirect:E,sanitizeHTML:W,sanitizeUrl:C,setElementContent:v,text:r,unsafe:_,UnsafeString:w};return te}),PlayerModalShare.prototype=new ModalShare,PlayerModalShare.prototype.set_data=function(){this.data={ssLink:this.getNewSlideURL($(".j-share-social-list").data("canonical-url"),1),ssId:this.sslastscreen.config.slideshowId,totalSlides:this.sslastscreen.config.totalSlides,authorId:this.config.authorId},this.data.social=this.get_viral_share_urls(),this.SHARE_ABBRS={facebook:"fb",linkedin:"li",twitter:"tw",pinterest:"pi"},this.renderSlideStartOptions()},PlayerModalShare.prototype.bindCustomModalEvents=function(){this.set_data()},PlayerModalShare.prototype.close=function(){$("#svPlayerId").hasClass("infographic_player")&&$("body").removeClass("overflow_hidden"),this.reset(),this.$container.hide(),this.sslastscreen.restoreLastScreenState(),this.sslastscreen.isShareScreenVisible=!1,this.shareGATracking("modalClose")},PlayerModalShare.prototype.trackShareClick=function(e){this.trackShareEvent({entityId:this.data.ssId,shareType:e,entityAuthorId:this.data.authorId,isEmbed:this.config.isEmbed}),this.shareGATracking(this.SHARE_ABBRS[e],"share_open")},PlayerModalShare.prototype.shareGATracking=function(e,t){"undefined"!=typeof t&&(e=e+"_"+t),$.slideshareEventManager.trackEvent(this.gaCategory+e)},ModalShare.prototype.updateStartSlide=function(){var e=$(".j-share-start-picker").prop("selectedIndex")+1||1;if(!(e<=0)){var t=this;$(".j-share-social-list li a").each(function(i){var n=$(this).data("url");n&&$(this).data("url",t.getNewSlideURL(n,e))}),this.data.ssLink=this.getNewSlideURL(this.data.ssLink,e),$("#share-link-url").prop("value",this.getNewSlideURL($("#share-link-url").prop("value"),e)),$(".j-share-social-list li.pinterest a").data("media",this.getSlideImageURL(e)),$(".j-embed-start-picker").prop("selectedIndex",e-1),this.updateEmbed(),this.data.social=this.get_viral_share_urls()}},function(e){function t(){}function i(e){s=[e]}function n(e,t,i){return e&&e.apply(t.context||t,i)}function r(e){return/\?/.test(e)?"&":"?"}function o(o){function p(e){Y++||(Z(),H&&(I[G]={s:[e]}),O&&(e=O.apply(o,[e])),n(F,o,[e,w,o]),n(D,o,[o,w]))}function P(e){Y++||(Z(),H&&e!=b&&(I[G]=e),n(N,o,[o,e]),n(D,o,[o,e]))}o=e.extend({},$,o);var L,A,R,V,j,F=o.success,N=o.error,D=o.complete,O=o.dataFilter,B=o.callbackParameter,z=o.callback,U=o.cache,H=o.pageCache,W=o.charset,G=o.url,q=o.data,K=o.timeout,Y=0,Z=t;return E&&E(function(e){e.done(F).fail(N),F=e.resolve,N=e.reject}).promise(o),o.abort=function(){!Y++&&Z()},n(o.beforeSend,o,[o])===!1||Y?o:(G=G||d,q=q?"string"==typeof q?q:e.param(q,o.traditional):d,G+=q?r(G)+q:d,B&&(G+=r(G)+encodeURIComponent(B)+"=?"),!U&&!H&&(G+=r(G)+"_"+(new Date).getTime()+"="),G=G.replace(/=\?(&|$)/,"="+z+"$1"),H&&(L=I[G])?L.s?p(L.s[0]):P(L):(C[z]=i,R=e(_)[0],R.id=u+k++,W&&(R[l]=W),M&&M.version()<11.6?(V=e(_)[0]).text="document.getElementById('"+R.id+"')."+g+"()":R[a]=a,x&&(R.htmlFor=R.id,R.event=f),R[S]=R[g]=R[m]=function(e){if(!R[v]||!/i/.test(R[v])){try{R[f]&&R[f]()}catch(t){}e=s,s=0,e?p(e[0]):P(c)}},R.src=G,Z=function(e){j&&clearTimeout(j),R[m]=R[S]=R[g]=null,T[y](R),V&&T[y](V)},T[h](R,A=T.firstChild),V&&T[h](V,A),j=K>0&&setTimeout(function(){P(b)},K)),o)}var s,a="async",l="charset",d="",c="error",h="insertBefore",u="_jqjsp",p="on",f=p+"click",g=p+c,S=p+"load",m=p+"readystatechange",v="readyState",y="removeChild",_="<script>",w="success",b="timeout",C=window,E=e.Deferred,T=e("head")[0]||document.documentElement,I={},k=0,$={callback:u,url:location.href},M=C.opera,x=!!e("<div>").html("<!--[if IE]><i><![endif]-->").find("i").length;o.setup=function(t){e.extend($,t)},e.jsonp=o}(jQuery),"undefined"==typeof window.cookie&&(window.cookie=function(e,t,i){if("undefined"==typeof t){var n=null;if(document.cookie&&""!==document.cookie)for(var r=document.cookie.split(";"),o=0;o<r.length;o++){var s=jQuery.trim(r[o]);if(s.substring(0,e.length+1)==e+"="){n=decodeURIComponent(s.substring(e.length+1));break}}return n}i=i||{},null===t&&(t="",i.expires=-1);var a="";if(i.expires&&("number"==typeof i.expires||i.expires.toUTCString)){var l;"number"==typeof i.expires?(l=new Date,l.setTime(l.getTime()+24*i.expires*60*60*1e3)):l=i.expires,a="; expires="+l.toUTCString()}var d=i.path?"; path="+i.path:"",c=i.domain?"; domain="+i.domain:"",h=i.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),a,d,c,h].join("")}),void 0===$.slideshareEventManager&&$.extend({slideshareEventManager:{SHOUTEVENTS:{next:!0,previous:!0,gotoslide:!0,slidechanged:!0,insight:!0,flag:!0},i18n:slideshare_object.utils.i18n,functions:{showlastscreen:function(){var e=this.controller;e.isValidNextSlideshowExperiment()?this.trigger("showNextSlideshow"):e.displayLastScreen()},hidelastscreen:function(){this.controller.hideLastScreen()},gotofirstslide:function(){var e=this.controller;this.trigger("hideNextSlideshow"),e.play(1),"video"===e.config.player_type&&e.multimediaResource&&e.multimediaResource.videoPlayer.seek(0).play(!0)},next:function(e){var t=this.controller;if("iframe"==t.mode){var i=t.currentComponentSet.slidedisplayer;return void i.next()}var n=t.currentPosition,r=t.slideCount,o=e&&e.touchedSlideNo,s=t.slides[n];if(t.slides[n+1],!(o<n-3))if(o>r-1&&t.lastSlideReached(),"ytube_video"===s.config.slideMode&&s._pauseVideo(),n===r&&"undefined"==typeof new_mobile_player)this.onLastSlide=!0,t.isValidNextSlideshowExperiment()?this.trigger("showNextSlideshow"):this.trigger("showlastscreen");else{this.onLastSlide=!1;var a=n+1,l=e&&e.source;t.play(a,!1,l,{updateBamboo:!0}),l?($.slideshareEventManager.trackEvent(l+"_"+a),$.slideshareEventManager.trackEvent(l+"_"+this.controller.currentViewMode)):(l="right_arrow_key",$.slideshareEventManager.trackEvent(l+"_"+a),$.slideshareEventManager.trackEvent(l+"_"+this.controller.currentViewMode))}},previous:function(e){var t=this.controller;if("iframe"==t.mode){var i=t.currentComponentSet.slidedisplayer;return void i.previous()}var n=t.currentPosition,r=n-1,o=e&&e.source;this.trigger("hideNextSlideshow"),t.slides[n].stop(),t.play(r,!1,o,{updateBamboo:!0}),e&&e.source&&$.slideshareEventManager.trackEvent(e.source+"_"+r)},showNextSlideshow:function(){this.controller.showNextSlideshowCTA()},hideNextSlideshow:function(){this.controller.isValidNextSlideshowExperiment()&&this.controller.hideNextSlideshowCTA()},updateNextSlideshowCookie:function(e){var t=window.cookie("next_slideshows_seen_ids"),i="clear"===e?-1:1;t&&t.length>=4e3?i=-1:t?(t=t.split(","),t.indexOf(e.toString())===-1&&t.push(e)):t=[this.controller.config.id,e],window.cookie("next_slideshows_seen_ids",t,{expires:i,path:"/"})},mobileScrollPlayingMode:function(e){this.controller.playingMode=e},gotolastslide:function(){var e=this.controller,t=e.slideCount;e.play(t)},document_touch_scroll:function(e){this.controller.currentComponentSet.slidedisplayer.manualScroll(e.delta)},toggleaudio:function(){var e=this.controller;e.multimediaResource&&e.multimediaResource.togglePlay()},audioplayed:function(){var e=this.controller;e.currentComponentSet.toolbar.updateAudioInteraction({audioPlaying:!0})},audiopaused:function(){var e=this.controller;e.currentComponentSet.toolbar.updateAudioInteraction({audioPlaying:!1})},videoready:function(e){var t=this.controller;t.initVideoPlayer(e.mode),t.currentComponentSet.videobar._bindEvents()},gotoslide:function(e){var t=this.controller;t.play(e.index,void 0,void 0,{updateBamboo:!0}),this.trigger("hideNextSlideshow"),$.slideshareEventManager.trackEvent("jumptoslide_"+e.index)},viewonss:function(e){var t=this.controller;window.open(jSecure.sanitizeUrl(t.config.slideview_url),"viewer")},viewfullscreen:function(e){var t=this.controller,i=t.currentComponentSet;if("nativefullscreen"!=t.currentViewMode&&"fullscreen"!=t.currentViewMode){if("document"===t.config.player_type&&i.slidedisplayer.setZoom(0),i.videobar&&i.slidedisplayer.adjustSpinnerPosition(!0),t.isNativeFullScreenSupported){if(i.container.addClass("fullscreen"),t.switchNativeView("nativefullscreen"),"undefined"!=typeof SSDocumentDisplayer&&t.currentComponentSet.slidedisplayer instanceof SSDocumentDisplayer){var n=t.currentPosition;setTimeout(function(){t.play(n,!0)},500)}t.currentComponentSet.toolbar.showFullscreenToolbar(!0)}else t.switchToFullScreen();"nativefullscreen"===t.currentViewMode&&_gaq.push(["_trackPageview","/"+this.hostedIn+"FullscreenView"])}},leavefullscreen:function(e){var t=this.controller;if(t.currentComponentSet.toolbar.showFullscreenToolbar(!1),"normal"!=t.currentViewMode){if(t.leaveFullScreen(),"undefined"!=typeof SSDocumentDisplayer&&t.currentComponentSet.slidedisplayer instanceof SSDocumentDisplayer){var i=t.currentPosition;setTimeout(function(){t.play(i,!0)},100)}t.currentComponentSet.toolbar.$fullscreenTitleBanner&&t.currentComponentSet.toolbar.$fullscreenTitleBanner.hide()}},zoomin:function(e){var t=this.controller;t.currentComponentSet.slidedisplayer.zoomin()},zoomout:function(e){var t=this.controller;t.currentComponentSet.slidedisplayer.zoomout()},playersearch:function(e){},playershare:function(e){this.controller.displayShareScreen({gaCategory:e,customizations:{title:this.i18n("ssplayer.event_manager.playershare.share_slideshare")}}),"video"===this.controller.config.player_type&&this.controller.multimediaResource&&this.controller.multimediaResource.pause()},metadataloaded:function(e){var t=this.controller,i=e.type,n=t._metaDataHandlers()[i];n.success.call(t,e.json)},metadataloadfailed:function(e){var t=this.controller,i=e.type,n=t._metaDataHandlers()[i];n.failure.call(t),this.trackRawEvent("jsplayer_debug",i+"_metadataloadfailed",void 0,!0)},slidechanged:function(e){this.trigger("hidelastscreen");var t=e.index,i=this.controller,n=i.currentPosition,r=i.config.has_video&&i.config.video_hash[i.config.start_slide];(n!==t||e.force)&&(this.controller.updateCurrentPosition(t),this.controller.hideShareScreen(),i.config.related_position>0&&$.slideshareEventManager.trackEvent("related"+i.config.related_position+"_slide_changed"),t===i.config.start_slide&&i.config.show_image_player&&!r?i._load(t,!0):i._load(t),e.alreadyInPosition||i.currentComponentSet.slidedisplayer._scrollTo(t),2===t?$.slideshareEventManager.trackEvent("slidechange_2"):t===i.slideCount&&$.slideshareEventManager.trackEvent("slidechange_last"),i.clickGenTracker.trackOrganicLinkImpressionEventsForSlide(t),$(window).trigger("resize"))},slidescrolled:function(e){var t=e.index,i=this.controller,n=i.currentPosition;(n!==t||e.force)&&this.trigger("slidechanged",e)},handlemultimedia:function(){var e=this.controller;e.multimediaResource&&(e.wasPlaying=e.multimediaResource.isPlaying(),e.multimediaResource.pause())},screenoverlayclosed:function(){this.controller.multimediaResource&&this.controller.wasPlaying&&this.controller.multimediaResource.play()},showvideospinner:function(){var e=this.controller;e.currentComponentSet.slidedisplayer.videoSpinner.css("z-index",e.VIDEO_FULLSCREEN_ZINDEX).show()},hidevideospinner:function(){var e=this.controller;e.currentComponentSet.slidedisplayer.videoSpinner.css("z-index","auto").hide()},toolbarshown:function(){$(".toolbar").css("z-index",$(".slideDisplayer").css("z-index"))},currentversionloaded:function(e){var t=this.controller.slides[e.index],i=e.resourceKey;t.updateRenderedResourceVersion(i)},resourceloaded:function(e){var t=this.controller.slides[e.index],i=e.resourceKey;if(t.updateResource(i,{status:"cached"}),"failed"!==t.status){var n,r=t.resources;for(n in r)if(r[n].cacheable===!0&&"cached"!==r[n].status)return;t.status="cached",this.trigger("slideloaded",{index:e.index})}},resourceloadfailed:function(e){var t=this.controller.slides[e.index],i=e.resourceKey;t.updateResource(i,{status:"failed"}),t.resources[i].isCritical===!0&&(t.status="failed",this.trigger("slideloadfailed",{index:e.index})),this.trackRawEvent("jsplayer_debug",i+"_resourceloadfailed",void 0,!0)},fontresourceloaded:function(e){var t=this.controller;t.config.use_ssl&&e.style.indexOf(".eot")!==-1&&(e.style=e.style.replace(/http:\/\//g,"https://"));var i="<style>"+e.style+"</style>";$(i).appendTo(t.currentComponentSet.container)},slideloaded:function(e){var t=this.controller,i=e.index,n=t.slides[i];n.currentViewMode.rendered&&("undefined"!=typeof new_mobile_player&&t.resetSlideShowHeight(i),n.paint()),$("#playerFacade").hide(),t.preloadMoreIfIdle(i)},slideloadfailed:function(e){controller=this.controller;var t=controller.slides[e.index];if($("#playerFacade").hide(),t.currentViewMode.rendered){var i=t.currentViewMode.width,n=t.currentViewMode.height;t.displayError(controller.generateErrorDom("slide_error_template",{width:i,height:n}))}controller.preloadMoreIfIdle(e.index);var r=this.controller.config.id+"_slide_"+e.index;this.trackRawEvent("jsplayer_debug","slideloadfailed",r,!0)},videoloadfailed:function(){this.trackRawEvent("jsplayer_debug","videoloadfailed",void 0,!0)},slideloading:function(e){var t=this.controller,i=t.slides[e.index],n=t.loadingSlides;n.indexOf(e.index)===-1&&t.loadingSlides.push(e.index),i.currentViewMode.rendered&&i.displayLoading(),t.currentPosition===e.index&&this.trackRawEvent("jsplayer_debug","current_slide_loading",void 0,!0)},showvolumecontrol:function(e){var t=this.controller.currentComponentSet.toolbar;t&&t.volumeControl&&t.volumeControl.show()},hidevolumecontrol:function(e){var t=this.controller.currentComponentSet.toolbar;t&&t.volumeControl&&t.volumeControl.hide()},changevolume:function(e){var t=this.controller,i=t.multimediaResource;i&&i.changeVolume(e.volume)},volumechanged:function(e){var t=this.controller.currentComponentSet.toolbar;t&&t.volumeControl&&t.volumeControl.setVolume(e.volume)},repaint:function(e){this.controller.repaint(e.mobile)},flag:function(e){var t=this.controller.currentComponentSet.flag;t&&t.toggleFlagMenu()}},registerController:function(e){this.controller=e},registerPlayer:function(e){this.player=$(e)},registerEnvironment:function(e){e=e||"slideshare",this.hostedIn=e},trigger:function(e,t){void 0!==this.functions[e]&&this.functions[e].call(this,t),this.SHOUTEVENTS[e]&&this.player.trigger({type:e,ssData:t})},trackEvent:function(e,t){window._gaq||(window._gaq=[]),window._gaq.push(["_trackEvent","jsplayer",this.hostedIn,e,void 0,!!t])},trackRawEvent:function(e,t,i,n){window._gaq||(window._gaq=[]),window._gaq.push(["_trackEvent",e,t,i,void 0,!!n])},trackValueEvent:function(e,t,i,n){window._gaq||(window._gaq=[]),window._gaq.push(["_trackEvent",e,t,i,n])},trackOutboundClick:function(e){this.controller.clickGenTracker.trackOrganicLinkClickEvent(e)},getController:function(){return this.controller},getCurrentPosition:function(){return this.controller.currentPosition}}}),SSLastScreen.prototype._init=function(){this.isVisible=!1,this.isShareScreenVisible=!1,this.gaCategory="lastscreen_v1_",this.$container=$("#lastScreen"),this.$nextButton=$("#btnNext .j-next-btn"),this.$container.find("img.j-thumbnail").lazyload({effect:"fadeIn",event:"loadThumb"})},SSLastScreen.prototype.exitFullScreenIfIdle=function(){var e=setTimeout(function(){$(".lastScreen").is(":visible")&&($.browser.mozilla||$(".btnLeaveFullScreen").trigger("click"))},5e3);$(".lastScreen").on("click",function(){clearTimeout(e)})},SSLastScreen.prototype.show=function(e,t){if(this.$container.find("img.j-thumbnail").trigger("loadThumb"),this.isVisible=!0,void 0!==this.overlay)return this.overlay.show(),void this.lastScreen.show();var i="lastScreenContainer";isMobile()&&(i+=" mobile"),this.lastScreen=this.$container.addClass(i).appendTo(this.config.renderTo),this.lastScreen.show(),this.overlay=this.lastScreen.find(".j-last-screen-overlay"),this.setDimensions(e),this.populateTemplate(),t&&this.exitFullScreenIfIdle()},SSLastScreen.prototype.populateTemplate=function(){this.lastScreen.find(".lastScreenEmbedCode, .j-share-embed-link").val(this.config.embed_code),this.lastScreen.find(".lastScreenSSUrl, .j-share-link-url").val(this.config.settings.url),this.lastScreen.find(".j-share-embed-wp").val(this.config.wp_code),$.fn.tooltip&&this.lastScreen.find(".j-tooltip").tooltip(),this.config.disableRelated&&(this.lastScreen.find(".lastScreen").addClass("j-disable-related"),this.config.disableShare&&this.lastScreen.find(".lastScreen").addClass("j-disable-share"),this.isProLastScreen=!0),this._bindEvents(),this.initShareWidget(),this.populateEmbedSizes()},SSLastScreen.prototype.initShareWidget=function(){this.shareWidgets=new SSShareWidgets({container:this.lastScreen,gaCategory:this.gaCategory})},SSLastScreen.prototype.populateEmbedSizes=function(){var e=this.lastScreen.find(".j-embed-size-picker");$.each(this.config.embed_sizes.presets,function(t,i){var n=i.size.width+4,r=i.size.height+2,o=$("<option/>").val(t).text(n+"x"+r);e.append(o)}),e.val(this.config.embed_sizes.config.defaultPreset).change()},SSLastScreen.prototype._bindEvents=function(){$(".lastscreen-share-cta").bind("click",function(e){e.preventDefault(),e.stopPropagation(),$.slideshareEventManager.trigger("playershare",this.gaCategory)});var e=this,t=this.lastScreen.find(".j-email-cta");t.bind("click",function(){$.slideshareEventManager.trigger("playershare",this.gaCategory),e.lastScreen.find(".j-share-email-to").click(),e.lastScreen.find(".j-share-email-to").focus(),$.slideshareEventManager.trackEvent(e.gaCategory+"email_cta")}),this.lastScreen.find(".j-last-screen-replay").bind("click",function(t){t.preventDefault(),t.stopPropagation(),e.hide(),$.slideshareEventManager.trigger("gotofirstslide"),$.slideshareEventManager.trackEvent(e.gaCategory+"replay")}),this.lastScreen.find(".j-last-screen-overlay, .j-lastscreen-close").bind("click",function(){e.hide()}),this.lastScreen.find(".j-lastscreen-related a").bind("click",function(t){$.slideshareEventManager.trackEvent(e.gaCategory+"relatedclick")})},SSLastScreen.prototype.showShareScreen=function(e){if(this.shareOpenedFromLastScreen=this.isVisible,this.isShareScreenVisible)this.hide();else{if(this.isShareScreenVisible=!0,this.show(e),this.lastScreen.find(".j-lastscreen").hide(),e.customizations.title){var t=this.lastScreen.find("a#button-share-tab");t.text(e.customizations.title)}this.lastScreen.find("#last-screen-modal-share").show()}},SSLastScreen.prototype.restoreLastScreenState=function(){this.shareOpenedFromLastScreen?this.lastScreen.find(".j-lastscreen").show():(this.lastScreen.find(".j-lastscreen").show(),this.hide())},SSLastScreen.prototype.hide=function(){this.isVisible=!1,this.isShareScreenVisible=!1,this.overlay.hide(),this.lastScreen.hide()},SSLastScreen.prototype.destroy=function(){this.overlay&&(this.overlay.remove(),delete this.overlay),this.lastScreen&&(this.lastScreen.remove(),delete this.lastScreen)},SSLastScreen.prototype.setDimensions=function(e){void 0!==this.lastScreen&&(this.config.lastScreenClass&&this.lastScreen.find(".lastScreen").addClass(this.config.lastScreenClass),this.lastScreen.css({height:e.height,width:e.width}))},SSReplayScreen.prototype._init=function(){},SSReplayScreen.prototype.show=function(e){void 0===this.overlay&&(this.overlay=$("<div/>").css({width:"100%",height:"100%","background-color":"black",opacity:.75,position:"absolute",top:0,left:0}).appendTo(this.config.renderTo),this.lastScreen=$("<div/>").css({position:"absolute"}).html(this.html).appendTo(this.config.renderTo),this.setDimensions(e),this.bindEvents())},SSReplayScreen.prototype.destroy=function(){this.overlay&&(this.overlay.remove(),delete this.overlay),this.lastScreen&&(this.lastScreen.remove(),delete this.lastScreen)},SSReplayScreen.prototype.bindEvents=function(){var e=this;this.lastScreen.find(".j-replay-button").bind("click",function(t){t.preventDefault(),e.destroy(),$.slideshareEventManager.trigger("gotofirstslide"),$.slideshareEventManager.trackEvent("lastscreen_replay")})},SSReplayScreen.prototype.setDimensions=function(e){if(void 0!==this.lastScreen){var t,i,n=93,r=25;t=(e.height-r)/2,i=(e.width-n)/2,t=t<0?0:parseInt(t,10),i=i<0?0:parseInt(i,10),this.lastScreen.css({top:t,left:i})}},SSShareWidgets.prototype.loadTwWidget=function(){window.twttr=function(e,t,i){var n,r,o=e.getElementsByTagName(t)[0];if(!e.getElementById(i))return r=e.createElement(t),r.id=i,r.src="//platform.twitter.com/widgets.js",o.parentNode.insertBefore(r,o),window.twttr||(n={_e:[],ready:function(e){n._e.push(e)}})}(document,"script","twitter-wjs");var e=this;twttr.ready(function(t){var i=e;t.events.bind("tweet",function(e){e&&$.slideshareEventManager.trackEvent(i.gaCategory+"twitter_share")}),t.events.bind("click",function(e){$.slideshareEventManager.trackEvent(i.gaCategory+"twitter_click")})})},SSShareWidgets.prototype.loadLIwidget=function(){var e=document.location.protocol+"//platform.linkedin.com/in.js?async=true";"undefined"==typeof IN?$.getScript(e,function(){"undefined"!=typeof IN&&IN.init({api_key:"y4wa9oe4c6nu",credentials_cookie:!0,authorize:!0,entropy:Math.floor(1e4*Math.random())})}):IN.parse(document),window.socialScreenLinkedInSuccess=function(){$.slideshareEventManager.trackEvent(that.gaCategory+"li_share")}},SSShareWidgets.prototype.loadGplusWidget=function(){window.___gcfg={lang:"en-US"},function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://apis.google.com/js/plusone.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),window.socialScreenPlusOneSuccess=function(){$.slideshareEventManager.trackEvent(that.gaCategory+"gplus_share")}},SSShareWidgets.prototype.loadPinItWidget=function(){!function(e){var t=e.getElementsByTagName("SCRIPT")[0],i=e.createElement("SCRIPT");i.type="text/javascript",i.async=!0,i.src="//assets.pinterest.com/js/pinit.js",t.parentNode.insertBefore(i,t)}(document),this.container.find(".pinit-btn").click(function(){$.slideshareEventManager.trackEvent(that.gaCategory+"pinit_share")})},SSShareWidgets.prototype.sendMail=function(e){var t=!1,i=e.sendButton;t||(i.trigger("mailSending"),t=!0,$.post(e.postTo,{data:e.params,dataType:"json"}).success(function(e){t=!1,e.isSuccess?i.trigger("mailSendSuccess"):i.trigger("mailSendFailure",e)}).error(function(e,n,r){t=!1,i.trigger("mailSendError")}))},SSShareOptions.prototype._init=function(){},SSShareOptions.prototype.show=function(){var e=this;this.shareOptions=$("<div/>").html(this.html).appendTo(this.renderTo),this.setShareObjects(),$.each({".thirdPartyShare a.Twitter":this.config.twitterShare,".thirdPartyShare a.Linkedin":this.config.linkedinShare},function(t,i){e.shareOptions.find(t).bind("click",function(e){e.preventDefault(),window.open(i,"ss_share","width=660,height=490,toolbar=no,resizable=fixed,status=no,scrollbars=no,menubar=no,screenX=0,screenY=0").focus()})}),this.fbLike.replaceWith(this.config.facebookLike)},SSShareOptions.prototype.setShareObjects=function(){this.twitter=this.shareOptions.find(".Twitter"),this.linkedIn=this.shareOptions.find(".Linkedin"),this.fbLike=this.shareOptions.find(".fb-like")},SSSlideDisplayer.prototype._init=function(){this.config.show_image_player?this.container=$(".stage"):(this.container=$("<div/>").addClass("slideDisplayer "+this.playerBgColor).appendTo(this.config.renderTo),this.showInitializer())},SSSlideDisplayer.prototype.hideInitializer=function(){this.config.show_image_player||this.container.find("*").not(".pointly").remove()},SSSlideDisplayer.prototype.error=function(e){this.hideInitializer(),e.appendTo(this.container)},SSSlideDisplayer.prototype.zoomin=function(){var e=this.zoomIndex+1;e!==this.zoomLevels.length&&(this.zoomIndex=e,this.setZoom(e),$(this).trigger("zoomchanged"))},SSSlideDisplayer.prototype.zoomout=function(){0!==this.zoomIndex&&(this.zoomIndex-=1,this.setZoom(this.zoomIndex),$(this).trigger("zoomchanged"))},SSSlideDisplayer.prototype.activate=function(){},SSSlideDisplayer.prototype.deactivate=function(){},SSSlideDisplayer.prototype.destroy=function(){this.container.remove()},SSSlideDisplayer.prototype._bindEvents=function(){},SSSlideDisplayer.prototype.refresh=function(e){var t=this;$.each(e,function(e,i){t.config[e]&&(t.config[e]=i)})},SSTouchInteraction.prototype._init=function(){this.touch={active:!1},this._bindEvents()},SSTouchInteraction.prototype.scrollVariables=function(){this.slideHeight=$(".verticalStack").height(),this.scrollBottomOffset=2*this.slideHeight},SSTouchInteraction.prototype.loadNextSlides=function(e){var t=2,i=e.data.touch,n=$(window).scrollTop(),r=$(".slideShow").height();if(r-n<i.scrollBottomOffset)for(var o=0;o<t;o++)$.slideshareEventManager.trigger("next",{source:"scroll_next"})},SSTouchInteraction.prototype.loadNextSlide=function(e){var t=$(e.target);t.hasClass(".verticalStack")||(t=t.closest(".verticalStack"));var i=parseInt(t.attr("touchCount"),10),n=parseInt(t.attr("slideNumber"),10);isNaN(n)&&(n=parseInt($("div[touchcount]").last().attr("slidenumber"),10)),isNaN(i)?(t.attr("touchCount",1),$.slideshareEventManager.trigger("next",{source:"scroll_next",touchedSlideNo:n}),window._gaq.push(["_trackEvent","jsplayer","slideTouched",config.player_type])):i<3&&(t.attr("touchCount",i+1),$.slideshareEventManager.trigger("next",{source:"scroll_next",touchedSlideNo:n})),1===n&&i>1||90===window.orientation||window.orientation===-90?updateSlideNumber(n):updateSlideNumber(n+1)},SSTouchInteraction.prototype.getTouchEvent=function(){var e;return e="ontouchstart"in window?"touchstart":window.navigator.msPointerEnabled?"MSPointerDown":"click"},SSTouchInteraction.prototype.slideNextOnScroll=function(){var e=this;config.scroll_test||$("#slideshow").on(this.getTouchEvent(),function(t){e.loadNextSlide(t)}),$("#more-slide").on("click",function(t){window._gaq.push(["_trackEvent","jsplayer","LoadMoreSlide",config.player_type]),e.loadNextSlide(t)})},SSTouchInteraction.prototype.activate=function(){var e=$(".hideControls"),t=$(".slideShow"),i=$.slideshareEventManager,n=this.getTouchEvent(),r=this,o=window.innerWidth>0?window.innerWidth:screen.width,s=this.config.container.width();if("embed"===this.config.hostedIn&&o<s&&$("body").width(o),e.show(),$("#slide_next_mobile").on(n,function(e){e.preventDefault(),i.trigger("next",{source:"tap_next"}),window._gaq.push(["_trackEvent","jsplayer","mobile_next",config.real_player_type])}),$("#slide_previous_mobile").on(n,function(e){e.preventDefault(),i.trigger("previous",{source:"tap_previous"}),window._gaq.push(["_trackEvent","jsplayer","mobile_prev",config.real_player_type])}),"undefined"!=typeof new_mobile_player){$("#slide-end").live(n,function(e){$(window).scrollTop(0)}),this.slideNextOnScroll(),$("#play-icon").on(this.getTouchEvent(),function(e){e.stopPropagation(),"undefined"!=typeof r.containerHeight?t.height(r.containerHeight):t.height(2*$(".verticalStack").height()),$("#play-icon, .presentationSharing, #more-related-content").hide(),$("#view-done, #view-save, #slidecount, #more-slide").show(),$(".header").removeClass("fixed-header"),config.scroll_test&&(r.scrollVariables(),$(window).bind("scroll",{touch:r},r.loadNextSlides)),i.trigger("mobileScrollPlayingMode","play"),window._gaq.push(["_trackEvent","jsplayer","Mobile_PlayButton",config.player_type])}),$("#view-done").on(this.getTouchEvent(),function(e){e.stopPropagation(),e.preventDefault(),r.containerHeight=t.height(),t.height($(".verticalStack").height()),$("#view-done, #view-save, #slidecount, #more-slide, #slide-end").hide(),$(".header").addClass("fixed-header"),i.trigger("mobileScrollPlayingMode","pause"),$.mobile.silentScroll(0),$(".presentationSharing, #more-related-content").show(),$("#play-icon").css("display","table"),config.scroll_test&&$(window).unbind("scroll",r.loadNextSlides),window._gaq.push(["_trackEvent","jsplayer","Mobile_ViewDoneButton",config.player_type])});var a=$("#view-save");a.on(this.getTouchEvent(),function(e){if(e.stopPropagation(),e.preventDefault(),!a.hasClass("mobile_view_saved")){a.addClass("mobile_view_saved");var t=a.data("save-url");window._gaq.push(["_trackEvent","jsplayer","Mobile_ViewSaveButton_Click",config.player_type]),$.ajax({url:t,success:function(e){e.success?window._gaq.push(["_trackEvent","jsplayer","Mobile_ViewSaveButton_Success",config.player_type]):(a.removeClass("mobile_view_saved"),window._gaq.push(["_trackEvent","jsplayer","Mobile_ViewSaveButton_Failure",config.player_type]))},error:function(e){a.removeClass("mobile_view_saved"),window._gaq.push(["_trackEvent","jsplayer","Mobile_ViewSaveButton_Error",config.player_type])}})}}),$(document).bind("touchmove",function(e){a.is(":visible")&&(a.addClass("scrolling-hide"),$("#view-done, #view-save").hide())}),$(document).bind(this.getTouchEvent(),function(e){a.hasClass("scrolling-hide")&&(a.removeClass("scrolling-hide"),$("#view-done, #view-save").show())})}else e.on(n,function(e){var t=1e3,i=parseInt($(".current_slide_number").text(),10),n=$(".previous .ui-btn-inner"),r=$(".next .ui-btn-inner"),o=$(".landscape-full-screen-slidecount");o.show(),setTimeout(function(){o.hide()},t),1!==i&&(n.show(),setTimeout(function(){n.hide()},t)),i!==parseInt($("#total_slides_number").text(),10)?(r.show(),setTimeout(function(){r.hide()},t)):setTimeout(function(){$(".lastScreen").css("z-index",99999)},2e3),4===i&&$(".navIcons").removeClass("highlight")})},SSTouchInteraction.prototype.deactivate=function(){},SSTouchInteraction.prototype.destroy=function(){},SSTouchInteraction.prototype._bindEvents=function(){},SSToolbar.prototype._init=function(){var e;this.config.show_image_player?e=$(".toolbar"):(e=$('<div class="toolbar"></div>').html(this.config.html).appendTo(this.config.renderTo),$(".slideshow-info-container").css("padding-top",20)),this.container=e,this.toolbarOnFullscreen="presentation"===this.config.player_type||"document"===this.config.player_type,this.toolbarOnFullscreen&&(this.$fullscreenTitleBanner=$(".j-fullscreen-title-banner")),this.$currSlide=this.container.find(".j-current-slide"),this.$progressBar=this.container.find(".j-progress-bar"),
this.$progressBar.length&&this.initProgressBar(),this.totalSlideCount=this.config.totalSlideCount,this.config.toolbarClass=this._getToolbarClass(),this.container.addClass(this.config.toolbarClass),this.config.enableViewSS&&e.find(".btnViewOnSS").show(),this.config.isFullScreen&&(e.find("#btnFullScreen").hide(),e.find("#btnLeaveFullScreen").show()),"video"===this.config.playerType&&(this.volumeControl=new SSVolumeControl({container:e.find(".jspl_volume_control"),renderTo:e,trigger:e.find(".btnVolume"),player:this.config.renderTo}),this.audioActive=!0);var t=this;e.find(".j-total-slides").text(this.totalSlideCount),$(".slide_container").on("mousemove",function(e){t.prevCursorScreenX!==e.screenX&&t.prevCursorScreenY!==e.screenY&&(t.prevCursorScreenY=e.screenX,t.prevCursorScreenY=e.screenY,t.showFullscreenToolbar(!0))}),this.container.on("mouseover",function(){t.showFullscreenToolbar(!1)})},SSToolbar.prototype.showFullscreenToolbar=function(e){if(this.config.isFullScreen&&this.toolbarOnFullscreen){var t=this.$fullscreenTitleBanner.add(this.container.closest(".toolbar_wrapper"));t.is(":hidden")&&t.fadeIn("fast"),clearTimeout(this.showFSElemsTimer),e&&(this.showFSElemsTimer=setTimeout(function(){t.fadeOut("fast")},3e3))}},SSToolbar.prototype._initForNativeFullScreen=function(){this._ELEMENT_VISIBILITY.fullScreen=!this.config.disableFullScreen&&!this.config.isFullScreen,this._ELEMENT_VISIBILITY.leaveFullScreen=!this.config.disableLeaveFullScreen&&this.config.isFullScreen},SSToolbar.prototype._getToolbarClass=function(){var e="";return e=this.config.width<400?"small":"normal"},SSToolbar.prototype.resetButtons=function(e){this._unbindButtonHandler(e),this._bindButtonHandler(e)},SSToolbar.prototype.getElements=function(e){var t=this.container,i={nav:".nav",share:".btnShare",fullScreen:"#btnFullScreen",leaveFullScreen:"#btnLeaveFullScreen",viewOnSS:".btnViewOnSS",goToSlide:".goToSlideLabel",zoomButtons:".docActions"},n={};return $.each(i,function(i,r){e&&e[i]?n[i]=$(e[i]):n[i]=t.find(r)}),n},SSToolbar.prototype.getButtons=function(e,t){var i=this,n={},r=t;return $.each(e,function(e,t){r&&r[e]?n[e]=$(r[e]):n[e]=i.container.find(t)}),n},SSToolbar.prototype.deactivate=function(){var e=this._BUTTONS;$.each(e,function(e,t){t.unbind("click")}),this._unbindButtonHandler(this._BUTTONS),this.container.find(".goToSlideLabel>input[type=text]").attr("disabled",!0),this.active=!1,"video"===this.config.playerType&&this._activateAudio()},SSToolbar.prototype.activate=function(){var e=this;this.container,this._bindButtonHandler({btnViewOnSS:"viewonss",btnFirst:"gotofirstslide",btnSS:"viewonss",btnPrevious:"previous",btnNext:"next",btnLast:"gotolastslide",btnFullScreen:"viewfullscreen",btnLeaveFullScreen:"leavefullscreen",btnZoomOut:"zoomout",btnZoomIn:"zoomin",btnFind:"playersearch",btnShare:"playershare"}),this.isClippable||(this.activateProgressTooltip(),this.$progressBar.on("click",function(){var t=parseInt(e.$tooltipSlideCount.text(),10);$.slideshareEventManager.trigger("gotoslide",{index:t}),$.slideshareEventManager.trackEvent("progressbar_click")})),this.active=!0,"video"===this.config.playerType&&this._activateAudio()},SSToolbar.prototype.updateAudioInteraction=function(e){var t;for(t in e)this[t]=e[t];return"video"===this.config.playerType?void this._activateAudio():void(this.active&&this.audioReady&&this.audioMetaReady?(!this.audioActive&&this._activateAudio(),this._updateAudioDisplay()):this.audioActive&&this._deactivateAudio())},SSToolbar.prototype._activateAudio=function(){this.container.find(".btnAudio,.btnVolume").removeClass("disabled"),this._bindButtonHandler({btnAudio:"toggleaudio",btnVolume:"showvolumecontrol"}),this.audioActive=!0},SSToolbar.prototype._deactivateAudio=function(){this.container.find(".btnAudio,.btnVolume").addClass("disabled"),this._unbindButtonHandler({btnAudio:null,btnVolume:null}),this.audioActive=!1},SSToolbar.prototype._updateAudioDisplay=function(e){this.audioPlaying?this.container.find(".btnAudio").removeClass("btnAudioPlay").addClass("btnAudioPause").attr("title","Pause"):this.container.find(".btnAudio").removeClass("btnAudioPause").addClass("btnAudioPlay").attr("title","Play")},SSToolbar.prototype._bindButtonHandler=function(e){var t=this;$.each(e,function(e,i){var n=t._BUTTONS[e];n&&(n.unbind(),n.bind("click",function(e){e.preventDefault();var n=t.GA_EVENTS_SRC[i];$.slideshareEventManager.trigger(i,{source:n});var r=t.GA_EVENTS[i];r&&$.slideshareEventManager.trackEvent(r)}))})},SSToolbar.prototype._unbindButtonHandler=function(e){var t=this;$.each(e,function(e){var i=t._BUTTONS[e];i.unbind(),i.bind("click",function(e){e.preventDefault(),e.stopPropagation()})})},SSToolbar.prototype.setDimensions=function(e){var t,i,n,r,o=this,s=o._ELEMENT_WIDTHS[o._ELEMENT_PRIORITIES[1][0]],a=e.width/2-o.config.toolbarPadding-s,l={one:a,two:a};this._ELEMENT_PRIORITIES.length,$.each(this._ELEMENT_PRIORITIES,function(e,s){t=s.length;for(var a=0;a<t;a++){i=s[a];var d=o._ELEMENT_SECTION[i];n=o._ELEMENT_WIDTHS[i],r=o._ELEMENT_VISIBILITY[i]&&l[d]>n,1==e||r?(o._ELEMENTS[i].show(),1!=e&&(l[d]-=n)):o._ELEMENTS[i].hide()}})},SSToolbar.prototype.updateCurrentPosition=function(e){this.handleDisabledButtons(e),this.$currSlide.text(e)},SSToolbar.prototype.handleDisabledButtons=function(e){this._BUTTONS.btnPrevious.find(".j-prev-btn").removeClass("disabled"),1===e&&this._BUTTONS.btnPrevious.find(".j-prev-btn").addClass("disabled")},SSToolbar.prototype.destroy=function(){this.container.remove()},SSToolbar.prototype.updateProgressBar=function(){if(this.$slidesLoadedBar){var e=this.$currSlide.text()/this.totalSlideCount*100;this.$slidesLoadedBar.width(e+"%")}},SSToolbar.prototype.initProgressBar=function(){var e=this;this.$slidesLoadedBar=this.$progressBar.find(".j-slides-loaded-bar"),this.$progressToolTip=this.$progressBar.find(".j-progress-tooltip"),this.$toolTipContent=this.$progressToolTip.find(".j-tooltip-content"),this.$toolTipThumb=this.$toolTipContent.find(".j-tooltip-thumb"),this.$tooltipSlideCount=this.$progressToolTip.find(".j-slidecount-label"),this.$tooltipSlideCount.text(this.$currSlide.text()),this.isClippable||(this.$progressBar.on("mousemove",function(t){e.displayProgressTooltip(t)}),this.$progressBar.on("mouseleave",function(){e.hideProgressTooltip()}))},SSToolbar.prototype.displayProgressTooltip=function(e){var t=this.$progressBar.offset().left,i=e.pageX-t,n=this.$progressBar.width(),r=Math.max(1,Math.ceil(i/n*this.totalSlideCount)),o=this.$progressToolTip.outerWidth();this.$progressToolTip.css("margin-left",i-o/2),this.$tooltipSlideCount.text(r),this.config.isEmbed&&this.fitTooltipInWindow();var s=this.$toolTipThumb.attr("slide-thumb-"+r);this.$toolTipThumb.attr("src",s),this.$progressToolTip.show()},SSToolbar.prototype.updateBamboo=function(e){var t=this._BUTTONS.btnNext.find("a"),i=this._BUTTONS.btnPrevious.find("a");t.data("slide",e.nextInd),t.attr("href",e.nextHref),t.attr("title",e.nextTitle),i.data("slide",e.prevInd),i.attr("href",e.prevHref),i.attr("title",e.prevTitle)},SSToolbar.prototype.fitTooltipInWindow=function(){this.$toolTipThumb.css({"margin-left":0,"margin-right":0}),this.$tooltipSlideCount.css({"margin-left":0,"margin-right":0,"border-bottom-left-radius":3,"border-bottom-right-radius":3});var e=this.$toolTipThumb.offset().left,t=e+this.$toolTipThumb.outerWidth(),i=this.$tooltipSlideCount.offset().left,n=i+this.$tooltipSlideCount.outerWidth(),r=$(window).width();e<0?this.$toolTipThumb.css("margin-left",e*-1):t>r&&this.$toolTipThumb.css("margin-left",2*(r-t)),i<0?this.$tooltipSlideCount.css({"margin-left":i*-1-1,"border-bottom-left-radius":0}):n>r&&this.$tooltipSlideCount.css({"margin-left":r-n,"border-bottom-right-radius":0})},SSToolbar.prototype.deactivateProgressTooltip=function(){this.$progressToolTip&&this.$progressBar&&!this.isClippable&&(this.$progressToolTip.hide(),this.$progressBar.off("mousemove"),this.$progressBar.off("mouseleave"))},SSToolbar.prototype.activateProgressTooltip=function(){this.$progressToolTip&&this.$progressBar&&!this.isClippable&&(this.deactivateProgressTooltip(),this.$progressBar.on("mousemove",this.displayProgressTooltip.bind(this)),this.$progressBar.on("mouseleave",function(){this.$progressToolTip.hide()}.bind(this)))},SSPlayerController.prototype._init=function(){var e,t=slideshare_object.utils.imports("tracking.ClickGenTracker");if(this.clickGenTracker=new t,this.clickGenTracker.renderAllLinks="all"===this.config.render_links,$.slideshareEventManager.registerController(this),$.slideshareEventManager.registerEnvironment(this.config.hosted_in),this.cachedDomElements={},this.componentSets={},e=this._isFullScreen()?"fullscreen":"normal",this._createComponentSet(e),this.isNativeFullScreenSupported=this._isNativeFullScreenSupported(),this._bindEvents(),this.exitFullScreenHandler=this.exitFullScreenHandlerFactory(),"video"!==this.mode?this.config.disable_meta&&this.config.show_image_player?(this.conversionVersion=2,this.slideSizes={},this.slideLinks={},this.postInitialize()):(this._initMetadata(),this._loadMetadata()):(this.VIDEO_REINITIALISE_TIME=100,this.VIDEO_FULLSCREEN_ZINDEX=100,this._loadVideoMeta()),$(document).trigger("slideshare-player-controller:init-done"),$.slideshareEventManager.trackEvent("player_initialized",!0),this.config.next_prev_experiment){this.config.next_slideshow_pos&&$.slideshareEventManager.trackEvent("next_slideshow_cta_page_load");var i=window.cookie("next_slideshows_seen_ids");if(i&&(i=i.split(","),this.config.ssIds=i,i&&""!==i[0]))for(var n=0,r=i.length;n<r;n++)$('.j-related-more-tab .j-related-item a[data-ssid="'+i[n]+'"]').hide()}$(window).on("keyup",function(e){if(32==e.keyCode){var t=$(".player"),i=window.innerWidth==t.width()&&window.innerHeight==t.height();i&&$.slideshareEventManager.trigger("next",{source:"spacebar_next"})}})},SSPlayerController.prototype._loadVideoMeta=function(){this.config.is_private&&this._getHtmlSignatures(),this.initialized=!0},SSPlayerController.prototype._initMetadata=function(){if("html"===this.mode)this.config.is_private&&this._getHtmlSignatures(),this._initFontResources(),this._initHtmlMetadata(),this.config.image_ready&&this._initImageMetadata(!0);else{if("image"!==this.mode)throw window._gaq&&_gaq.push(["_trackEvent","jsplayer","invalidplayermode",this.config.id]),"Unknown player mode";this._initImageMetadata()}},SSPlayerController.prototype._loadMetadata=function(){if("html"===this.mode)this.metaResource.load(),this.config.image_ready&&this.imageMetaResource.load();else{if("image"!==this.mode)throw"Unknown player mode";this.imageMetaResource.load()}},SSPlayerController.prototype._initHtmlMetadata=function(e){this.metaResource=new SSMetaResource({url:this.config.bucket_location+"meta.js",timestamp:this.config.timestamp,type:"html",is_private:this.config.is_private,signature:e})},SSPlayerController.prototype._initImageMetadata=function(e,t){this.imageMetaResource=new SSMetaResource({url:this.config.image_bucket_location+"/meta.js",timestamp:this.config.timestamp,type:e?"imagefallback":"imageprimary"})},SSPlayerController.prototype._initFontResources=function(e,t){var i=navigator.userAgent.toLowerCase();t?fontBatchNum=Math.ceil(this.slideCount/t):fontBatchNum=Math.ceil(this.slideCount/this.FONT_BATCH_COUNT);var n;n=/msie/.test(i)&&!/opera/.test(i)?this.config.html_eotfont_url_suffix:this.config.html_ttffont_url_suffix;var r;for(this.fontResources=[],r=1;r<=fontBatchNum;r++)this.fontResources[r]=new SSFontResource({baseUrl:this.config.bucket_location,indexString:this._getIndexString(r,0),timestamp:this.config.timestamp,suffix:n})},SSPlayerController.prototype.getImagePrivateSignatures=function(e,t){var n=this;!function(t){$.ajax({url:n.config.images_signature_request_route,data:{id:n.config.id,key:n.config.secret_key,mode:t,images_sizes:e,version:n.conversionVersion,password_hash:n.config.password_hash,authenticity_token:window._auth_token},dataType:"json",cache:!1,type:"POST",success:function(e){if("html"===t?n.privateImageSignatures=e:"image"===t&&(n.privateFallBackImageSignatures=e),"html"===t||"image"===t)n.postInitialize();else if(n.slidesCreated){var r,o,s=n.slideModes.image.length;for(i=0;i<s;i++)o=n.slideModes.image[i],r=n.slides[n.realIndexToIndex[o]],r.resources.image.addSignature(e[o]),r.resources.image.ready()}else n.privateFallBackImageSignatures=e}})}(t)},SSPlayerController.prototype._getHtmlSignatures=function(){var e=this.config.signature_request_route,t=this;$.ajax({url:e,data:{id:this.config.id,key:this.config.secret_key},dataType:"json",cache:!1,type:"GET",success:function(e){var i,n=e.length;if(0!==n){for(var r=0;r<n;r++)i=e[r],t.htmlResourceSignatures=e[r].info;for(r=0;r<t.slideCount;r++)t.slides&&t.slides[r]&&(slide=t.slides[r],slide.resources.html.updateSignature(t.htmlResourceSignatures[r].url),slide.resources.html.ready())}},failure:function(){$.slideshareEventManager.trigger("metadataloadfailed",{type:t.config.type})}})},SSPlayerController.prototype._metaDataHandlers=function(){var e=function(){var e,t,i=this.currentComponentSet.slidedisplayer;e=i.container.height(),t=i.container.width(),i.error(this.generateErrorDom("meta_error_template",{width:t,height:e})),$("#playerFacade").hide()};return{html:{success:function(e){this.conversionVersion=parseInt(e.version||2,10),this.slideSizes=e.sizes||{},this.availableBgSizes=e.available_sizes||{};var t=e.error_scores||{};this.algo=t.algo||"bad v1.0",this.errorScores=t.webkit||{};var i="\n.ssml_div span {line-height:normal;} \n.ssml_div div {line-height:normal;}\n.ssml_div{font-size:16px;}";"none"===this.config.render_links&&(i+="\n.ssml_div a{cursor:default;}");var n="a.ssml_a {text-decoration:none;color:inherit;vertical-align:top;} \n.ssml_div span {position:absolute; white-space:pre; vertical-align:top;} \n.ssml_div div {position:absolute;}",r="<style>"+(e.global_styles_css||n)+i+"</style>";$(r).appendTo(this.currentComponentSet.container),e.pages_per_fontfile&&(this.FONT_BATCH_COUNT=e.pages_per_fontfile,this._initFontResources()),this.config.is_private?this.getImagePrivateSignatures(this.availableBgSizes,"html"):this.postInitialize()},failure:e},imagefallback:{success:function(e){"none"===this.config.render_links&&(e.links={}),this.slidesCreated?this.fallbackMetaHandler(e):this.fallbackMetaData=e},failure:function(){var e,t,i,n,r,o=this.slideModes.image.length;for(e=0;e<o;e++)n=this.slideModes.image[e],r=this.slides[n],t=r.currentViewMode.width,i=r.currentViewMode.height,r.displayError(this.generateErrorDom("slide_error_template",{width:t,height:i}),!0)}},imageprimary:{success:function(e){this.conversionVersion=parseInt(e.version||2,10),this.slideSizes=e.sizes||{},"none"===this.config.render_links&&(e.links={}),this.slideLinks=e.links||{},this.realSlideCount,this.availableFallbackSizes=e.available_sizes,this.config.is_private?this.getImagePrivateSignatures(this.availableFallbackSizes,"image"):this.postInitialize()},failure:e}}},SSPlayerController.prototype.fallbackMetaHandler=function(e){var t,n,r,o=parseInt(e.version||2,10),s=e.sizes||{},a=e.available_sizes||{},l=e.links||{},d=this.slideModes.image.length;for(i=0;i<d;i++)slideIndex=this.slideModes.image[i],n=s[slideIndex]||{},t=a[slideIndex],void 0===t&&(t={320:[75],768:[75]},t[n.width]=[75]),r=this.slides[this.realIndexToIndex[slideIndex]],r.setContentDimensions(n.width||0,n.height||0),r.updateResource("image",{sizes:{contentWidth:n.width||0,availableSizes:t,conversionVersion:o,is_private:this.config.is_private},linkData:l[slideIndex]||[]});this.config.is_private&&this.getImagePrivateSignatures(a,"imagefb")},SSPlayerController.prototype.postInitialize=function(){this._initSlides(),this._activateComponentSet(this.currentViewMode),this._setModeForSlides(this.currentViewMode),this.setDimensions(),$(this).trigger("playerinitialized");try{window.parent.infographic_campaign&&$.slideshareEventManager.trigger("viewfullscreen")}catch(e){}},SSPlayerController.prototype.initVideoPlayer=function(e){this.multimediaResource=this.currentComponentSet.videobar,this.multimediaResource.videoPlayer=jwplayer("videoSlideContainer_"+e),this._activateComponentSet(e),this.setDimensions(),$("[id*=videoSlideContainer]").css("cursor","default")},SSPlayerController.prototype._bindEvents=function(){var e=this;$(this).bind("playerinitialized",function(){this.initialized=!0,e.play()}),this.config.preload_after_pageload&&$(window).bind("load",function(){e.pageLoadFired=!0}),this.config.touch||"video"===this.config.player_type||$(document).bind("keyup",function(t){"INPUT"!==t.target.nodeName&&"TEXTAREA"!==t.target.nodeName&&(37===t.keyCode&&(e.currentComponentSet.lastScreen&&e.currentComponentSet.lastScreen.destroy(),$.slideshareEventManager.trigger("previous")),39===t.keyCode&&$.slideshareEventManager.trigger("next"))}),this.isNativeFullScreenSupported&&$(document).bind(this.nativeFullScreen.fullScreenChangeEventName(),function(t){e._nativeFullScreenHandler.call(e,t)})},SSPlayerController.prototype._bindComponentSetEvents=function(){var e=this,t=this.currentComponentSet;$(t.slidedisplayer).bind("zoomchanged",function(t){if(e.repaint(),this.documentSlider)for(var i=1;i<e.slides.length&&"undefined"!=typeof e.slides[i].currentViewMode.imageElement;)e.currentComponentSet.slidedisplayer.slidesContainer.width()!==e.slides[i].currentViewMode.imageElement.width()&&e.slides[i].show(!0),i++})},SSPlayerController.prototype._createComponentSet=function(e){this.componentSets[e]={},this.currentComponentSet=this.componentSets[e],this.currentViewMode=e;var t=this.currentComponentSet;if("normal"===e||this.config.show_image_player){if(t.container=$("#"+this.config.container),1!==t.container.length)throw"Unable to find container for player"}else"fullscreen"===e&&(this.normalModeScrollPosition=$(window).scrollTop(),t.container=$("<div/>").addClass("jsplInpageFullScreen").appendTo($("body")),$("body, html").css({overflow:"hidden"}));var i=this._isFullScreen(e),n=this._getPlayerBgColor(e);t.navigators=[];var r={renderTo:t.container,spinnerUrl:this.config.spinner_url,errorImageUrl:this.config.error_image_url,mode:this.mode,slideCount:this.slideCount,playerType:this.config.player_type,playerBgColor:n,hosted_in:this.config.hosted_in,show_image_player:this.config.show_image_player};"html"===this.config.player_type&&(r.iframe_id=this.config.iframe_id),this._isFullScreen(e)&&(r.spinnerUrl=this.config.spinner_url_fullscreen),"document"===this.config.player_type?"undefined"!=typeof new_mobile_player?t.slidedisplayer=new SSMobileDocumentDisplayer(r):t.slidedisplayer=new SSDocumentDisplayer(r):"video"===this.config.player_type?(this.videoSpecialSettings=this.getSpecialSettingsForVideo(),r.videoBucket=this.config.video_bucket,r.pptLocation=this.config.ppt_location,r.screenMode=e,r.videoSpinner=this.config.video_spinner_location,r.playerDomName=this.config.container,r.videoExtension=this.config.video_extension,r.useDefaultToolbar=this.videoSpecialSettings.defaultToolbar,r.ieAndLessThan8=this.videoSpecialSettings.ieLT8,r.swfLocation=this.config.swf_location,r.playIcon=this.config.video_play_icon,r.posterImage=this.config.poster_img_url,r.embedOnIe=this.isEmbedAndIE(),r.isEmbed="embed"===this.config.hosted_in,r.autoplayOnEmbed=this.config.autoplayOnEmbed,this.hasToolbar=!this.videoSpecialSettings.defaultToolbar,r.isMobileDevice=this.config.touch,r.isMobileAndNonIos=this.config.touch&&!navigator.userAgent.match(/(iPhone|iPad|iPod)/i),t.slidedisplayer=new SSVideoDisplayer(r)):"infographic"===this.config.player_type?(r.isMobileDevice=this.config.touch,t.slidedisplayer=new SSInfographicDisplayer(r)):"html"===this.config.player_type?(r.isMobileDevice=this.config.touch,t.slidedisplayer=new SSIframeDisplayer(r)):(r.isTouch=this.config.touch,"undefined"!=typeof new_mobile_player?t.slidedisplayer=new NewMobilePresentationDisplayer(r):t.slidedisplayer=new SSPresentationDisplayer(r)),this.hasToolbar=!this.config.touch||"mobile_slideview"!==this.config.hosted_in,t.navigators.push(t.slidedisplayer),this.setDimensions();var o=this.currentComponentSet.width,s=this.currentComponentSet.height;if(this.config.shareScreenClass="",this.config.lastScreenClass="",this.config.showProLastScreen=!0,"mobile_slideview"!==this.config.hosted_in&&(this.config.disable_share||(this.config.shareScreenClass=this._getShareScreenClass(o,s)),"slideview"!==this.config.hosted_in&&(this.config.lastScreenClass=this._getLastScreenClass(o,s)),this.config.showProLastScreen=this.canShowProLastScreen(o,s)),this.config.touch)t.touchInteraction=new SSTouchInteraction({container:t.slidedisplayer.container,playerType:this.config.player_type,hostedIn:this.config.hosted_in}),t.navigators.push(t.touchInteraction);else if("presentation"===this.config.player_type&&!isMobile()){var a="none"===this.config.render_links;t.bandInteraction=new SSBandInteraction({container:t.slidedisplayer.container,width:t.width,linksDisabled:a}),t.navigators.push(t.bandInteraction)}if(this.hasToolbar){var l={width:t.width,height:this.TOOLBAR_HEIGHT,html:this.config.toolbar_html,renderTo:t.container,totalSlideCount:this.slideCount,primaryResourceType:this.config.primaryResourceType,disableShare:this.config.disable_share,disableFullScreen:this.config.disable_full_screen,enableViewSS:this.config.enable_viewSS,isFullScreen:i,playerType:this.config.player_type,enableZoomButtons:"document"==this.config.player_type,show_image_player:this.config.show_image_player,isEmbed:"slideview"!==this.config.hosted_in,isFlagged:this.config.flagging&&this.config.flagging.is_flagged,player_type:this.config.player_type},d=this.config.player_type;if("infographic"===d||"html"===d){var c={disableNav:!0,disableGoToSlide:!0,disableShare:!1,enableViewSS:!0,enableZoomButtons:!1,disableFullScreen:!1,disableLeaveFullScreen:!1,buttonOverrides:{btnLeaveFullScreen:"."+d+"_player a.j-exit-fullscreen"},elementOverrides:{leaveFullScreen:"."+d+"_player a.exit-fullscreen"}};if("slideview"==this.config.hosted_in){c.enableViewSS=!1,c.disableFullScreen=!1,c.disableLeaveFullScreen=!1,c.enableZoomButtons=!1;var h=c.buttonOverrides;h.btnFullScreen=".btnFullScreen",c.elementOverrides.fullScreen=".btnFullScreen"}"slideshare"==this.config.hosted_in&&(c.enableViewSS=!1),$.extend(l,c)}t.toolbar=new SSToolbar(l),t.navigators.push(t.toolbar)}"video"===this.config.player_type&&(t.toolbar||(t.toolbar=$("<div/>")),t.videobar=new SSVideoBar({renderTo:t.toolbar.container,height:this.MULTIMEDIABAR_HEIGHT,html:this.config.multimediabar_html,isMobileDevice:this.config.touch}),t.navigators.push(t.videobar),this.multimediaResource=t.videobar),this.config.has_video&&(t.videoConfetti=$("<img/>").attr({src:this.config.confetti_url}).css({position:"absolute",top:"-1px",left:"-1px"}).appendTo(t.container.find(".stage"))),this.config.disable_share||$(".j-action-share").click(function(e){e.preventDefault(),e.stopPropagation(),$.slideshareEventManager.trigger("playershare","share_btn_")}),"video"!==this.mode&&this._bindComponentSetEvents()},SSPlayerController.prototype.configureComponentsForNativeMode=function(e){var t=this.currentComponentSet;t.slidedisplayer.refresh({spinnerUrl:this.config.spinner_url_fullscreen}),t.toolbar.config.isFullScreen=this._isFullScreen(e),t.toolbar._initForNativeFullScreen(e)},SSPlayerController.prototype._isFullScreen=function(e){return"fullscreen"===e||"nativefullscreen"===e||this.config.is_fullscreen},SSPlayerController.prototype._getPlayerBgColor=function(e){var t=this._isFullScreen(e),i="jsplBgColorBigfoot";return i=t?this.config.fullscreen_bgcolor:this.config.player_bgcolor},SSPlayerController.prototype._getShareScreenClass=function(e,t){var i=null;return e>360&&t>260?i="normal":e>320&&t>250?i="small":e>290&&t>280&&(i="tiny"),i},SSPlayerController.prototype.canShowProLastScreen=function(e,t){return!(e<337||t<142)},SSPlayerController.prototype._getLastScreenClass=function(e,t){var i="small";return e>=512&&t>=421?i="medium":e>=427&&t>=356&&(i="normal"),i},SSPlayerController.prototype._destroyComponentSet=function(e){var t=this.componentSets[e];$.each(t.navigators,function(e,t){t.destroy()}),delete this.componentSets[e].navigators,delete this.componentSets[e].slidedisplayer,"fullscreen"===e&&(t.container.remove(),$("body, html").css({overflow:"auto"}));var i;if(this.slides)for(var n=1;n<=this.slideCount;n++)i=this.slides[n],i.viewModes[e].container.remove(),delete i.viewModes[e];delete this.componentSets[e].container,delete this.componentSets[e]},SSPlayerController.prototype._mapIndexes=function(){for(var e=this.config.video_hash,t=1,i=this.slideCount,n={},r={},o=1;o<=i;o++)e&&e[o]?n[o]=null:(n[o]=t,r[t]=o,t++);this.indexToRealIndex=n,this.realIndexToIndex=r},SSPlayerController.prototype._percentageFailing=function(e){var t=0;for(var i in this.errorScores)this.errorScores[i]>e&&t++;return 0===this.slideCount?0:parseInt(100*(t/this.slideCount),10)},SSPlayerController.prototype._initSlides=function(){this.slides=[],this.slideModes.image=[],this.slideModes.html=[];var e,t,i,n,r,o,s,a=!1,l=0,d=this.config.video_hash;this._mapIndexes();var c=this.indexToRealIndex,h=this.AUTOVERIFICATION_ERROR_THRESHOLD,u=0,p=100,f=638,g=479;2===this.conversionVersion&&"undefined"!=typeof this.AUTOVERIFICATION_THRESHOLDS[this.algo]&&(h=this.AUTOVERIFICATION_THRESHOLDS[this.algo],u=this._percentageFailing(h)),2===this.conversionVersion&&"undefined"!=typeof this.MAX_PERCENTAGE_FAILING[this.algo]&&(p=this.MAX_PERCENTAGE_FAILING[this.algo]);for(e in c)if(c.hasOwnProperty(e)){e=parseInt(e,10),s=c[e],null===c[e]?(o="ytube_video",l++):"iframe"===this.mode?o="iframe":1===e&&this.config.image_ready?(o="image",a=!0):"html"!==this.mode||this.config.image_ready?"image"===this.mode?o="image":2===this.conversionVersion&&u>p?(o="image",a=!0,this.disableLoadingFonts=!0):(r=parseFloat(this.errorScores[e]),isNaN(r)&&(r=this.DEFAULT_ERROR_SCORE),r>h?(o="image",a=!0):o="html"):o="html",null===s&&(s=d[e].parent),i=this.slideSizes[s]||{},"html"===o?this.slideModes.html.push(s):"image"===o&&this.slideModes.image.push(s);var S="all"===this.config.render_links;n={ssid:this.config.id,realIndex:s,index:e,type:this.mode,linkOffset:l,slideMode:o,indexGenerator:this._getIndexString,contentWidth:parseInt(i.width,10)||f,contentHeight:parseInt(i.height,10)||g,playerWidth:this.currentComponentSet.width,errorImageUrl:this.config.error_image_url,spinnerUrl:this.config.spinner_url,spinnerUrlFullscreen:this.config.spinner_url_fullscreen,playerType:this.config.player_type,stripped_title:this.config.stripped_title,timestamp:this.config.timestamp,ppt_location:this.config.ppt_location,is_private:this.config.is_private,is_render_all_links:S,hosted_in:this.config.hosted_in,show_image_player:this.config.show_image_player,isStartSlide:this.config.start_slide===e},"html"===o?(n.bucketLocation=this.config.bucket_location,n.availableSizes=this.availableBgSizes[s]):"image"===o?(n.bucketLocation=this.config.image_bucket_location,n.availableSizes=this.config.disable_meta?{1024:[95]}:this.availableFallbackSizes[s]):"iframe"===o&&(n.html_location=this.config.html_location,n.iframe_id=this.config.iframe_id),this.config.is_private&&("html"==o?(this.htmlResourceSignatures&&this.htmlResourceSignatures[s]&&(n.htmlResourceSignature=this.htmlResourceSignatures[s].url),n.privateImageSignatures=this.privateImageSignatures[s]):"image"==o&&this.privateFallBackImageSignatures&&(n.privateImageSignatures=this.privateFallBackImageSignatures[s])),"document"===this.config.player_type?t="undefined"!=typeof new_mobile_player?new MobileDocumentSlide(n):new SSDocumentSlide(n):"infographic"===this.config.player_type?t=new SSInfographicSlide(n):"html"===this.config.player_type?t=new SSIframeSlide(n):"ytube_video"!==o?t="undefined"!=typeof new_mobile_player?new SlideshareMobileSlide(n):new SSPresentationSlide(n):(n.video_id=d[e].video_id,n.current_video_count=l,n.loading_message_partial=this.config.loading_message_partial,1===e&&(n.contentWidth=728,n.contentHeight=542),t=new SSVideoEmbedSlide(n)),"image"===this.mode&&void 0!==this.slideLinks[s]&&t.updateResource("image",{linkData:this.slideLinks[s]||{}}),this.slides[e]=t,delete this.availableFallbackSizes[s]}a===!0&&(this.slidesCreated=!0,this.fallbackMetaData&&this.fallbackMetaHandler(this.fallbackMetaData))},SSPlayerController.prototype._getIndexString=function(e,t){var i,n=""+e,r=n.length;for(i=0;i<t-r;i++)n="0"+n;return n},SSPlayerController.prototype._getContainerSize=function(){this.currentComponentSet.width=this.currentComponentSet.container.width(),this.currentComponentSet.height=this.currentComponentSet.container.height()},SSPlayerController.prototype.setDimensions=function(e,t){var i=this.currentComponentSet;if(this._getContainerSize(),e=e||!1,i.viewHeight=i.height,this.hasToolbar&&(i.viewHeight-=this.TOOLBAR_HEIGHT),i.slidedisplayer.setDimensions({width:i.width,height:i.viewHeight,partial:e}),!e){var n={height:i.viewHeight,width:i.width},r=this.currentComponentSet;$.each(["toolbar","videobar","leadcta","shareScreen","lastScreen"],function(e,i){r[i]&&"function"==typeof r[i].setDimensions&&r[i].setDimensions(n,t)})}},SSPlayerController.prototype.getSpecialSettingsForVideo=function(){var e=navigator.userAgent.toLowerCase(),t=(/mozilla/.test(e)&&!/(compatible|webkit|trident)/.test(e),/msie/.test(e)&&!/opera/.test(e)&&document.documentMode&&document.documentMode<8),i={ieLT8:t},n=!1;return"video"===this.config.player_type?t&&this.isEmbedAndIE()&&(n=!0):n=!1,i.defaultToolbar=n,i},SSPlayerController.prototype.repaint=function(e){var t=navigator.userAgent.toLowerCase(),i=/msie/.test(t)&&!/opera/.test(t);if(!(void 0===this.currentComponentSet.slidedisplayer||"video"===this.config.player_type&&i&&this.currentComponentSet.videobar.fullscreen)){if(this.setDimensions(!0),this.setDimensions(!1,e),this._repaintPrerenderedSlides(),this.config.has_video){var n=this;setTimeout(function(){n.resizeVideoEmbeds()},250)}this.config.show_image_player||this.currentComponentSet.slidedisplayer._scrollTo(this.currentPosition)}},SSPlayerController.prototype._repaintPrerenderedSlides=function(){var e,t=this.currentComponentSet.slidedisplayer.prerenderedSlides;if(t&&t.length>0){var i;for(i=0;i<t.length;i++)e=t[i],this.slides[e].show(!0)}},SSPlayerController.prototype.updateCurrentPosition=function(e){if(this.slides&&void 0!==this.slides[e]){if(this.config.show_image_player&&(this.currentComponentSet.slidedisplayer.currentPosition=e),"video"===this.config.player_type)return;var t=this.currentComponentSet.toolbar;t&&t.updateCurrentPosition(e),this.multimediaResource,this.currentPosition=e,this.slides[e].painted=!0,t.updateProgressBar()}},SSPlayerController.prototype.displayLastScreen=function(){var e=this;if("video"!==this.config.player_type||!this.currentComponentSet.videobar.fullscreen){"undefined"==typeof this.currentComponentSet.lastScreen&&(this.config.is_only_private||this.config.disable_lastscreen&&!this.config.showProLastScreen||this.config.show_replay_screen?this.currentComponentSet.lastScreen=new SSReplayScreen({renderTo:this.currentComponentSet.container,settings:this.config.replayscreen}):("undefined"==typeof this.currentComponentSet.lastScreen&&(this.currentComponentSet.lastScreen=this._getShareScreen()),this.currentComponentSet.lastScreen=this.currentComponentSet.shareScreen),$(this.currentComponentSet.lastScreen).bind("gotofirstslide",function(){$(e).trigger("gotofirstslide")}));var t=this.currentComponentSet;t.viewHeight=t.height,this.hasToolbar&&(t.viewHeight-=this.TOOLBAR_HEIGHT),this.currentComponentSet.lastScreen.show({width:t.width,height:t.viewHeight},this._isFullScreen(this.currentViewMode)),this.currentComponentSet.lastScreen.isProLastScreen?$.slideshareEventManager.trackEvent("proLastscreen_shown"):$.slideshareEventManager.trackEvent("lastscreen_shown")}},SSPlayerController.prototype.hideLastScreen=function(){this.currentComponentSet.lastScreen&&this.currentComponentSet.lastScreen.isVisible&&this.currentComponentSet.lastScreen.hide()},SSPlayerController.prototype.hideShareScreen=function(){this.currentComponentSet.shareScreen&&this.currentComponentSet.shareScreen.isVisible&&this.currentComponentSet.shareScreen.hide();
},SSPlayerController.prototype.displayShareScreen=function(e){var t=e.gaCategory;t||(t="lastscreen_v1_"),$.slideshareEventManager.trackEvent(t+"share_cta_click"),this._getShareScreen(),this.currentComponentSet.shareScreen.showShareScreen({width:this.currentComponentSet.width,height:this.currentComponentSet.viewHeight,customizations:e.customizations}),this.currentComponentSet.shareScreen.modalShare?this.currentComponentSet.shareScreen.modalShare.gaCategory=t:this.currentComponentSet.shareScreen.modalShare=new PlayerModalShare({btnShare:".action-btns-container .action-btn.share",parentEl:".lastScreenContainer .lastScreen",el:".lastScreenContainer .lastScreen .modal-share",gaCategory:t,authorId:this.config.author_id,isEmbed:this.isEmbed},this.currentComponentSet.shareScreen),this.currentComponentSet.shareScreen.modalShare.updateEmbed()},SSPlayerController.prototype.updateEmbedSizes=function(){var e=this.config.embed_sizes,t=this.slideAspectRatio;if("infographic"===this.config.player_type&&e&&t){for(var i in e.presets)e.presets.hasOwnProperty(i)&&(preset=e.presets[i],preset.size.height=parseInt(preset.size.width*t+49,10));this.currentComponentSet&&this.currentComponentSet.shareScreen&&this.currentComponentSet.shareScreen.populateEmbedSizes()}},SSPlayerController.prototype._getShareScreen=function(){return"undefined"==typeof this.currentComponentSet.shareScreen&&(this.currentComponentSet.shareScreen=new SSLastScreen({renderTo:this.currentComponentSet.container,settings:this.config.lastscreen,slideshowId:this.config.id,embed_code:this.config.embed_code,iframe_url:this.config.iframe_url,iframe_code:this.config.iframe_code,embed_sizes:this.config.embed_sizes,wp_code:this.config.wp_code,lastScreenClass:this.config.lastScreenClass,disableRelated:this.config.disable_lastscreen,disableShare:this.config.disable_share,shareOptions:this.config.shareoptions,hostedIn:this.config.hosted_in,totalSlides:this.slideCount})),this.currentComponentSet.shareScreen},SSPlayerController.prototype.loadFonts=function(e){"html"===this.mode&&this.disableLoadingFonts!==!0&&"initialized"===this.fontResources[e].status&&this.fontResources[e].load()},SSPlayerController.prototype.getPrerenderSlideIndices=function(e,t){var i=e-this.PRERENDER_COUNT;i<1&&(i=1);var n=e+this.PRERENDER_COUNT;return n>this.slideCount&&(n=this.slideCount),[i,n]},SSPlayerController.prototype._load=function(e,t){var i=navigator.userAgent.toLowerCase(),n=/msie/.test(i)&&!/opera/.test(i);if("video"!==this.config.player_type){e=e||this.config.start_slide;var r,o,s=this;if(this.loadFonts(Math.ceil(e/this.FONT_BATCH_COUNT)),!t){var a=this.getPrerenderSlideIndices(e,t),l=a[0],d=a[1];for(r=l;r<=d;r++)this.config.show_image_player&&this.slides[r].render(),this.slides[r].show(),this.loadedSlides[r]=!0;if((n||"function"==typeof isIos&&isIos())&&"undefined"==typeof new_mobile_player){var c,h=this.currentComponentSet.slidedisplayer.prerenderedSlides;if(h)for(r=0;r<h.length;r++)c=h[r],(c<l||c>d)&&(o=this.slides[c],o.hide());this.currentComponentSet.slidedisplayer.prerenderedSlides=[]}this.currentComponentSet.slidedisplayer.setPrerenderedSlides({start:l,end:d})}if(!this.config.disable_eagerload||e!==this.config.start_slide){var u=this.preloadAnchorIndex;this.preloadAnchorIndex=e;var p=function(){s.preloadSlides()};this.config.preload_after_pageload&&!this.pageLoadFired?u||$(window).bind("load",p):(clearTimeout(this.preloadTimeoutId),this.preloadTimeoutId=setTimeout(p,2e3))}}},SSPlayerController.prototype.preloadSlides=function(){if(this.preloadAnchorIndex){var e=this.PRELOAD_PRE_LIMIT+this.PRELOAD_POST_LIMIT+1,t=this.preloadAnchorIndex-this.PRELOAD_PRE_LIMIT;t<1&&(t=1);var n=t+e-1;n>this.slideCount&&(n=this.slideCount);var r=Math.ceil(t/this.FONT_BATCH_COUNT),o=Math.ceil(n/this.FONT_BATCH_COUNT);for(i=r;i<=o;i++)this.loadFonts(i);for(i=t;i<=n;i++)this.loadedSlides[i]||(slide=this.slides[i],this.config.show_image_player&&slide.render(),slide.load(),this.loadedSlides[i]=!0);delete this.preloadAnchorIndex}},SSPlayerController.prototype.preloadMoreIfIdle=function(e){if(!this.config.disable_eagerload){var t=this.loadingSlides,i=t.indexOf(e);if(i>-1&&t.splice(i,1),!this.preloadAnchorIndex&&t.length<2){var n=this.loadedSlides.length+1;if(n>this.realSlideCount)return;var r=this;setTimeout(function(){r._load(n,!0)},0)}}},SSPlayerController.prototype.play=function(e,t,i,n){if(!this.initialized)return void(this.playQueue=e||1);if(void 0===e&&("undefined"!=typeof this.playQueue?(e=this.playQueue,delete this.playQueue):e=1),e<1&&(e=1),e>this.slideCount&&(e=this.slideCount),this.currentPosition!==e||t){if("video"===this.config.player_type)return void this.currentComponentSet.slidedisplayer.start();n&&n.updateBamboo&&this.config.bambooleaf_enabled&&this.updateBambooProperties({index:e}),$.slideshareEventManager.trigger("slidechanged",{index:e,force:t,source:i})}},SSPlayerController.prototype.updateBambooProperties=function(e){var t,i=e.index<this.slideCount?e.index+1:1,n=e.index>1?e.index-1:1;for(t in this.componentSets){var r=this.componentSets[t];r&&r.toolbar&&r.toolbar.updateBamboo({nextInd:i,prevInd:n,nextHref:this.config.rel_slide_urls[i-1],prevHref:this.config.rel_slide_urls[n-1],nextTitle:this.config.slide_titles[i-1],prevTitle:this.config.slide_titles[n-1]})}},SSPlayerController.prototype._enableVideoReloading=function(){var e=this.slides;for(var t in e)e.hasOwnProperty(t)&&e[t]&&"ytube_video"===e[t].config.slideMode&&e[t].emptySlide()},SSPlayerController.prototype.switchNativeView=function(e){if("nativefullscreen"===e){var t=this.currentComponentSet.container;t.length&&this.nativeFullScreen.request(t[0])}else this.nativeFullScreen.cancel();void 0===this.componentSets[e]&&(this.componentSets[e]=this.componentSets[this.currentViewMode]),this.currentComponentSet=this.componentSets[e],this.currentViewMode=e,this.currentComponentSet.slidedisplayer.emptySlides(),this.configureComponentsForNativeMode(e),this._setModeForSlides(e),this._load(this.currentPosition),this.updateCurrentPosition(this.currentPosition)},SSPlayerController.prototype._nativeFullScreenHandler=function(e,t){var i=this;this.nativeFullScreen.isFullScreen()?this.currentViewMode="nativefullscreen":$.slideshareEventManager.trigger("leavefullscreen"),window.setTimeout(function(){i.repaint.call(i)},500)},SSPlayerController.prototype.nativeFullScreen={request:function(e){if(document.webkitFullscreenEnabled){var t=/safari/.test(navigator.userAgent.toLowerCase())&&!/chrome/.test(navigator.userAgent.toLowerCase());Element&&Element.ALLOW_KEYBOARD_INPUT&&!t?e.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):e.webkitRequestFullScreen()}else document.mozFullScreenEnabled&&e.mozRequestFullScreen()},cancel:function(){document.webkitFullscreenEnabled?document.webkitCancelFullScreen():document.mozFullScreenEnabled&&document.mozCancelFullScreen()},fullScreenChangeEventName:function(){return document.webkitFullscreenEnabled?"webkitfullscreenchange":document.mozFullScreenEnabled?"mozfullscreenchange":void 0},isFullScreen:function(){return document.webkitIsFullScreen||document.mozFullScreen}},SSPlayerController.prototype._isNativeFullScreenSupported=function(){var e=navigator.userAgent.toLowerCase(),t=(navigator.appName.toLowerCase(),document.webkitFullscreenEnabled||document.mozFullScreenEnabled),i=/chrome/.test(e)||/firefox/.test(e)||/safari/.test(e);return t&&i},SSPlayerController.prototype.leaveFullScreen=function(){if(this.currentComponentSet.container.removeClass("fullscreen"),this.currentComponentSet.videobar&&this.currentComponentSet.slidedisplayer.adjustSpinnerPosition(!1),this.currentComponentSet.lastscreen&&this.currentComponentSet.lastscreen.hide(),"nativefullscreen"===this.currentViewMode&&this.isNativeFullScreenSupported)this.switchNativeView("normal");else if(isIEAllVersion)try{window.close()}catch(e){}else"video"===this.config.player_type?this.returnFromFullscreenForVideo():this.config.inpage_full_screen&&this.switchView("normal")},SSPlayerController.prototype.switchToFullScreen=function(){"video"===this.config.player_type?(this.currentComponentSet.container.addClass("fullscreen"),this.goHtmlFullscreenForVideo()):this.config.inpage_full_screen&&(this.currentComponentSet.container.addClass("fullscreen"),this.switchView("fullscreen"))},SSPlayerController.prototype.switchView=function(e){return this.config.show_image_player?("fullscreen"===e?(this.currentViewMode="nativefullscreen",this.currentComponentSet.container.addClass("non-native-fullscreen")):"normal"===e&&(this.currentViewMode="normal",this.currentComponentSet.container.removeClass("non-native-fullscreen"),this.switchNativeView(this.currentViewMode)),this.configureComponentsForNativeMode(e),this.repaint(),void $(window).trigger("resize")):void(e!==this.currentViewMode&&(this.config.has_video&&(this._enableVideoReloading(),$("[id*=ytube_player]").remove()),this._deactivateComponentSet(this.currentViewMode),void 0===this.componentSets[e]&&this._createComponentSet(e),this._activateComponentSet(e),this._setModeForSlides(e),this.setDimensions(),this.play(this.currentPosition,!0),this._load(this.currentPosition),this.updateCurrentPosition(this.currentPosition)))},SSPlayerController.prototype._activateComponentSet=function(e){var t=this.componentSets[e],i=t.navigators;this.currentComponentSet=t,this.currentViewMode=e,$.each(i,function(e,t){t.activate()}),"fullscreen"===e||this.config.is_fullscreen?($(document).bind("keyup",this.exitFullScreenHandler),$(window).scrollTop(0)):($(document).unbind("keyup",this.exitFullScreenHandler),this.normalModeScrollPosition&&$(window).scrollTop(this.normalModeScrollPosition))},SSPlayerController.prototype.exitFullScreenHandlerFactory=function(){return function(e){if(27===e.keyCode)try{$.slideshareEventManager.trigger("leavefullscreen")}catch(t){}}},SSPlayerController.prototype._deactivateComponentSet=function(e){var t=this.componentSets[e],i=t.navigators;$.each(i,function(e,t){t.deactivate()}),"fullscreen"===e&&this._destroyComponentSet("fullscreen"),this.currentComponentSet=null,this.currentViewMode=null},SSPlayerController.prototype._setModeForSlides=function(e){"video"!==this.config.player_type&&this.currentComponentSet.slidedisplayer.start({slides:this.slides,mode:e,playerBgColor:this._getPlayerBgColor(e)}),this.currentComponentSet.slidedisplayer._bindEvents()},SSPlayerController.prototype.getFullScreenUrl=function(){return this.config.fullscreen_url?this.config.fullscreen_url+"/"+this.currentPosition:document.location},SSPlayerController.prototype.generateErrorDom=function(e,t){var i=e+"_"+t.width+"_"+t.height,n=this.cachedDomElements[i];if(void 0===n){var r=t.width,o=t.height,s=o/3;s=s>r/4?r/4:s;var a=parseInt(s/20,10),l=14,d="document"===this.config.player_type?4:2,c=(o-s)/d,h=r/25,u=s-l;n=$(this.config[e]),n.css({height:o-c,padding:c+"px "+l+"px 0"});var p=n.children("div");p.css({"-moz-border-radius":a,"-webkit-border-radius":a,"-o-border-radius":a,"-ms-border-radius":a,"border-radius":a,height:s}),p.children("img").css({margin:l/2,height:u,width:u}),p.children("div").css({left:u+l,padding:l+"px 0 0 "+l/2+"px","font-size":h}),this.cachedDomElements[i]=n}return $(n).clone()},SSPlayerController.prototype.goHtmlFullscreenForVideo=function(){this.currentComponentSet.slidedisplayer.container.addClass("inPageFullscreen");var e=this.multimediaResource.videoPlayer,t=$(e.getContainer()),i=$(t.parent());this.normalPosition=t.css("position"),this.normalZindex=t.css("z-index"),this.normalLeft=t.css("left"),this.normalTop=t.css("top"),this.normalPlayerWidth=i.width(),this.normalPlayerHeight=i.height(),this.toolbarPaddingLeft=parseInt($(".toolbar").css("padding-left"),10),this.toolbarPadingRight=parseInt($(".toolbar").css("padding-right"),10),this.fullscreenHeight=$(window).height()-this.TOOLBAR_HEIGHT,this.fullscreenWidth=$(window).width();var n=this;i.css({position:"fixed",width:"100%",height:"100%",left:0,top:0,"z-index":this.VIDEO_FULLSCREEN_ZINDEX}),e.resize(this.fullscreenWidth,this.fullscreenHeight),this.normalPlayerContainer=this.currentComponentSet.container,this.currentComponentSet.container=i,$(this.currentComponentSet.toolbar.container).css({"z-index":this.VIDEO_FULLSCREEN_ZINDEX,width:n.fullscreenWidth-(n.toolbarPaddingLeft+n.toolbarPadingRight),position:"fixed",left:0,bottom:0}),$(this.currentComponentSet.toolbar.volumeControl.container).css({"z-index":this.VIDEO_FULLSCREEN_ZINDEX,position:"fixed",bottom:0}),$(this.currentComponentSet.videobar.container).css({"z-index":this.VIDEO_FULLSCREEN_ZINDEX,width:"100%",position:"relative",left:0,bottom:0}),this.currentComponentSet.videobar.setDimensions({height:n.fullscreenHeight,width:n.fullscreenWidth,fullscreen:!0});var r=this.currentComponentSet.toolbar.getElements();r.fullScreen.hide(),r.leaveFullScreen.show(),e.fullscreen=!0,setTimeout(function(){"PLAYING"===e.getState()&&e.play(!0)},this.VIDEO_REINITIALISE_TIME),this.currentViewMode="fullscreen"},SSPlayerController.prototype.returnFromFullscreenForVideo=function(){this.currentComponentSet.slidedisplayer.container.removeClass("inPageFullscreen");var e=this.multimediaResource.videoPlayer,t=$(e.getContainer()),i=$(t.parent()),n=this;i.css({position:"relative",height:n.normalPlayerHeight,width:n.normalPlayerWidth,"z-index":n.normalZindex,left:n.normalLeft,top:n.normalTop}),e.resize(this.normalPlayerWidth,this.normalPlayerHeight),this.currentComponentSet.container=this.normalPlayerContainer;var r=this.currentComponentSet.toolbar.getElements();r.leaveFullScreen.hide(),r.fullScreen.show();var o=$(this.currentComponentSet.toolbar.container);o.css({position:"relative",height:n.TOOLBAR_HEIGHT,width:n.normalPlayerWidth-(n.toolbarPaddingLeft+n.toolbarPadingRight),"z-index":n.normalZindex,left:n.normalLeft,top:n.normalTop,bottom:0}),$(this.currentComponentSet.toolbar.volumeControl.container).css({position:"relative","z-index":n.normalZindex}),$(this.currentComponentSet.videobar.container).css({position:"relative",height:n.MULTIMEDIABAR_HEIGHT,width:n.normalPlayerWidth,"z-index":n.normalZindex}),this.currentComponentSet.videobar.setDimensions({height:this.normalPlayerHeight,width:this.normalPlayerWidth}),e.fullscreen=!1,setTimeout(function(){"PLAYING"===e.getState()&&e.play(!0)},this.VIDEO_REINITIALISE_TIME),this.currentViewMode="normal"},SSPlayerController.prototype.isEmbedAndIE=function(){return isIEAllVersion&&"slideview"!==this.config.hosted_in},SSPlayerController.prototype.deactivateToolbar=function(){this.currentComponentSet.toolbar.deactivate()},SSPlayerController.prototype.activateToolbar=function(){this.currentComponentSet.toolbar.activate()},SSPlayerController.prototype.isToolbarActive=function(){return this.currentComponentSet.toolbar.active},SSPlayerController.prototype.resizeVideoEmbeds=function(){if(this.currentComponentSet&&this.currentComponentSet.slidedisplayer&&this.currentComponentSet.slidedisplayer.container){var e=this.currentComponentSet.slidedisplayer.container,t=e.find(".ytube-container");t.length>0&&t.height(e.height())}},SSPlayerController.prototype.isValidNextSlideshowExperiment=function(){return this.config.next_prev_experiment&&"presentation"===this.config.player_type},SSPlayerController.prototype.showNextSlideshowCTA=function(){var e=this;if(this.isValidNextSlideshowExperiment()&&$(".j-related-item a:visible").length&&!$(".j-next-container").is(":visible")){var t=$(".j-related-item a:visible").first(),i={id:t.data("ssid")||"0",thumb:t.find("img").attr("src")||"",title:t.attr("title")||"",url:t.attr("href")||"#"};this.config.nextSlideshow=i;var n=this.currentComponentSet.container,r=n.find(".j-next-container"),o=r.find(".j-timer-count"),s=2,a=function(){0===s&&(clearInterval(e.countDown),$.slideshareEventManager.trackEvent("next_slideshow_cta_loaded"),e.goToNextSlideshow()),s>=0&&(o.text(s),s--)};r.find(".j-next-url").on("click",function(){$.slideshareEventManager.trackEvent("next_slideshow_cta_loaded"),e.goToNextSlideshow()}),r.find(".j-next-cancel").on("click",function(){e.hideNextSlideshowCTA()}),$(".ssActions .j-tooltip").bind("click.cancel_next_slideshow",function(){e.hideNextSlideshowCTA()}),r.length&&(r.find(".j-next-thumb").attr({alt:i.title,src:i.thumb}),r.find(".j-next-title").text(i.title),o.text(s+1),r.addClass("active"),this.countDown=setInterval(a,1e3),$.slideshareEventManager.trackEvent("next_slideshow_cta_opened"),$(document).bind("keyup.next_slideshow",$.proxy(e.nextSlideshowKeypressHandler,e)))}},SSPlayerController.prototype.nextSlideshowKeypressHandler=function(e){27===e.keyCode&&this.hideNextSlideshowCTA(),13===e.keyCode&&($.slideshareEventManager.trackEvent("next_slideshow_cta_loaded"),this.goToNextSlideshow())},SSPlayerController.prototype.goToNextSlideshow=function(){$.slideshareEventManager.trigger("updateNextSlideshowCookie",this.config.nextSlideshow.id),window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var e=this.config.next_slideshow_pos?parseInt(this.config.next_slideshow_pos,10)+1:1,t=window.location.origin+this.config.nextSlideshow.url+"?next_slideshow="+e;window.location.href=t},SSPlayerController.prototype.hideNextSlideshowCTA=function(){if($(".j-next-container").is(":visible")){$.slideshareEventManager.trackEvent("next_slideshow_cta_closed"),clearInterval(this.countDown);var e=this.currentComponentSet.container,t=e.find(".j-next-container");t.removeClass("active"),$(document).unbind("keyup.next_slideshow"),$(".ssActions .j-tooltip").unbind("click.cancel_next_slideshow"),t.find(".j-next-url, .j-next-cancel").unbind("click")}},SSPlayerController.prototype.updateProgressBar=function(){if(0!==this.$slidesLoadedBar.length){var e=this.currentPosition/this.slideCount*100;this.$slidesLoadedBar.width(e+"%")}},window.Modernizr=function(e,t,i){function n(e,t){for(var n in e)if(f[e[n]]!==i)return"pfx"!=t||e[n];return!1}function r(e,t){return typeof e===t}function o(e){f.cssText=e}var s,a,l,d="2.0.6",c={},h=t.documentElement,u=(t.head||t.getElementsByTagName("head")[0],"modernizr"),p=t.createElement(u),f=p.style,g=(Object.prototype.toString," -webkit- -moz- -o- -ms- -khtml- ".split(" ")),S={},m=[],v=function(e,i,n,r){var o,s,a,l=t.createElement("div");if(parseInt(n,10))for(;n--;)a=t.createElement("div"),a.id=r?r[n]:u+(n+1),l.appendChild(a);return o=["&shy;","<style>",e,"</style>"].join(""),l.id=u,l.innerHTML+=o,h.appendChild(l),s=i(l,e),l.parentNode.removeChild(l),!!s},y={}.hasOwnProperty;l=r(y,i)||r(y.call,i)?function(e,t){return t in e&&r(e.constructor.prototype[t],i)}:function(e,t){return y.call(e,t)},function(i,n){var r=i.join(""),o=n.length;v(r,function(i,n){for(var r=t.styleSheets[t.styleSheets.length-1],s=(r.cssRules&&r.cssRules[0]?r.cssRules[0].cssText:r.cssText||"",i.childNodes),a={};o--;)a[s[o].id]=s[o];c.touch="ontouchstart"in e||9===a.touch.offsetTop},o,n)}([,["@media (",g.join("touch-enabled),("),u,")","{#touch{top:9px;position:absolute}}"].join("")],[,"touch"]),S.touch=function(){return c.touch},S.csstransforms=function(){return!!n(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])};for(var _ in S)l(S,_)&&(a=_.toLowerCase(),c[a]=S[_](),m.push((c[a]?"":"no-")+a));return o(""),p=s=null,c._version=d,c._prefixes=g,c.testProp=function(e){return n([e])},c.testStyles=v,c}(this,this.document);var isMobile=function(){var e=navigator.userAgent.match(/iPhone|iPad|iPod|Android|BlackBerry|IEMobile|webOS|Mobile|Windows Phone/i);return e},isIEAllVersion=function(){var e=navigator.userAgent.toLowerCase(),t=navigator.appName.toLowerCase();return/msie/.test(e)&&!/opera/.test(e)||/trident/.test(e)&&"netscape"===t}();Array.prototype.indexOf||(Array.prototype.indexOf=function(e){"use strict";if(null==this)throw new TypeError;var t=Object(this),i=t.length>>>0;if(0===i)return-1;var n=0;if(arguments.length>0&&(n=Number(arguments[1]),n!=n?n=0:0!=n&&n!=1/0&&n!=-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=i)return-1;for(var r=n>=0?n:Math.max(i-Math.abs(n),0);r<i;r++)if(r in t&&t[r]===e)return r;return-1}),SSPlayer.prototype._init=function(){var e=isMobile();this.config.touch=e&&(Modernizr.touch||"Windows Phone"==e)&&!cookie("nomobile"),$.slideshareEventManager.registerPlayer(this),"undefined"!=typeof new_mobile_player?this.controller=new MobileNewPlayerController(this.config):this.controller=new SSPlayerController(this.config),this.$playerContainer=$(this.config.container);var t=this,i=function(){if(t.config.show_image_player){var n=$(".stage"),r=$("#svPlayerId"),o=$(".slide_container");if("presentation"===t.config.player_type||"webinar"===t.config.player_type){var s=t.controller.currentPosition,a="ytube_video"===t.controller.slides[s].config.slideMode;if(n.css("height","auto"),n.css("max-height","none"),n.css("line-height","normal"),n.removeClass("valign-first-slide"),a){if("undefined"==typeof t.referenceSlideIndex)for(var l=t.controller.slides,d=1;d<=l.length;d++){var c=l[d];if("ytube_video"!==c.config.slideMode){t.referenceSlideIndex=c.index;break}}t.controller.currentComponentSet.slidedisplayer._scrollTo(t.referenceSlideIndex)}var h;h="slideview"===t.config.hosted_in&&"normal"===t.controller.currentViewMode?o.find(".slide_image").height():"slideview"!==t.config.hosted_in&&"embed"!==t.config.hosted_in||"nativefullscreen"!==t.controller.currentViewMode?"embed"===t.config.hosted_in&&"normal"===t.controller.currentViewMode?window.innerHeight-$(".toolbar").height():n.height():window.innerHeight;var u=$.map(r.find(".j-player-toolbar"),function(e){return $(e).height()}).reduce(function(e,t){return e+t},0),p=$(".j-clips-toolbar"),f=p.is(":visible")?p.height():0,g=$(".embed_player .stage");g.length&&($(".embed_player .stage").css("top",f),h-=f),n.css("height",h),n.css("max-height",h),n.css("line-height",h+"px");var S=100;"slideview"!==t.config.hosted_in||t.setMinHeight||(n.css("min-height",S),r.css("min-height",S+u),t.setMinHeight=!0),t.controller.setDimensions(!1,t.config.touch),a&&(t.controller.currentComponentSet.slidedisplayer._scrollTo(s),t.controller.resizeVideoEmbeds());var m="#"+t.controller.config.container,v=$(m+" .slide").eq(s-1).children(".slide_image");if("undefined"!=typeof v&&"undefined"!=typeof v[0]){var y=n.width()/n.height(),_=v.naturalWidth()/v.naturalHeight();y>_?(o.removeClass("wide_img"),o.addClass("tall_img")):(o.removeClass("tall_img"),o.addClass("wide_img"))}}}else $.slideshareEventManager.trigger("repaint",{mobile:t.config.touch});e&&"document"===t.config.player_type&&($(window).unbind("resize",i),setTimeout(function(){$(window).bind("resize",i)},1e3))};"undefined"==typeof new_mobile_player&&$(window).bind("load resize",i)},SSPlayer.prototype.play=function(e){e=e||1,this.controller.play(e)},SSPlayer.prototype.goToSlide=function(e){$.slideshareEventManager.trigger("gotoslide",e)},SSPlayer.prototype.gotoCurrent=function(){this.controller.play(this.controller.currentPosition,!0)},function(e){function t(){this._trackingUtils=new r,this._appId=this._trackingUtils.getAppId(o),this._eventBodyDefaults={requestHeader:{pageKey:this._trackingUtils.getPageKey(),path:e.document.location.pathname}},this._impressionQueue=[],this.lastLinkImpressionInfo={}}var i=e.slideshare_object,n=i.utils,r=i.utils.imports("tracking.TrackingUtils"),o="leads",s={SlideShareLinkImpressionEvent:"SlideShareLinkImpressionEvent",SlideShareLinkClickEvent:"SlideShareLinkClickEvent"},a={SlideIndex:"data-slideIndex",LinkIndex:"data-linkIndex"};t.prototype={constructor:t,LINK_TYPE:{Organic:"ORGANIC",OverlaidCTA:"OVERLAID_CTA"},registerLinksMetadata:function(e){this.linksMetadata=e,this.flushImpressionQueue()},trackLinkImpressionEvent:function(e,t,n){var r,o,a,l,d=this,c=this._trackingUtils.getUrn("Slideshow",i.slideshow.id);if(e&&t)return l={slideshowUrn:c,url:e,linkType:t},n&&(l.slideNumber=n),r=d._trackingUtils.generateTrackingID(),o={slideShareGuestUrn:d._trackingUtils.getSlideShareGuest(),impressionId:r,linkInfo:l},a=$.extend({},d._eventBodyDefaults,o),d._trackingUtils.recordTrackingEvent(d._appId,s.SlideShareLinkImpressionEvent,a),r},trackLinkClickEvent:function(e){e&&(eventBodyExtras={impressionId:e},eventBody=$.extend({},this._eventBodyDefaults,eventBodyExtras),this._trackingUtils.recordTrackingEvent(this._appId,s.SlideShareLinkClickEvent,eventBody))},trackOrganicLinkImpressionEventsForSlide:function(e){e&&this._areLinksEnabledOnSlide(e)&&(this.linksMetadata?(this.flushImpressionQueue(),this._trackOrganicLinkImpressionEvent(e)):this._impressionQueue.push(e))},trackOrganicLinkClickEvent:function(e){var t,i,n,r,o;if(this.linksMetadata&&(this.flushImpressionQueue(),e)){if(t=e.getAttribute(a.SlideIndex),i=e.getAttribute(a.LinkIndex),!(t&&i&&this.linksMetadata[t]&&this.linksMetadata[t].links[i]))return;n=this.linksMetadata[t].links[i],r={impressionId:n.impressionId},o=$.extend({},this._eventBodyDefaults,r),this._trackingUtils.recordTrackingEvent(this._appId,s.SlideShareLinkClickEvent,o)}},_trackOrganicLinkImpressionEvent:function(e){var t,n,r,o,a,l=this,d=this._trackingUtils.getUrn("Slideshow",i.slideshow.id),c=this.LINK_TYPE.Organic;this.linksMetadata&&(t=this.linksMetadata[e],t&&t.links&&(t=t.links,t.forEach(function(t){a={slideshowUrn:d,url:t.url,slideNumber:e,displayRectangle:l._getLinkDisplayRectangle(t.box),linkType:c},l._isDuplicateImpression(a)||(n=l._trackingUtils.generateTrackingID(),t.impressionId=n,r={slideShareGuestUrn:l._trackingUtils.getSlideShareGuest(),impressionId:n,linkInfo:a},o=$.extend({},l._eventBodyDefaults,r),l._trackingUtils.recordTrackingEvent(l._appId,s.SlideShareLinkImpressionEvent,o),l.lastLinkImpressionInfo=a)})))},flushImpressionQueue:function(){var e=this;this._impressionQueue.forEach(function(t){e._trackOrganicLinkImpressionEvent(t)}),this._impressionQueue=[]},_areLinksEnabledOnSlide:function(e){return!!(this.renderAllLinks||"undefined"!=typeof i&&i.user.su)||!(!e||e<=3)},_getLinkDisplayRectangle:function(e){var t=parseInt(e[0]||0,10),i=parseInt(e[3]||0,10),n=parseInt(e[2]||0,10),r=parseInt(e[1]||0,10);return{top:i,left:t,size:{height:r-i,width:n-t}}},_isDuplicateImpression:function(e){var t=this.lastLinkImpressionInfo;return JSON.stringify(t)===JSON.stringify(e)}},n.exports("tracking.ClickGenTracker",t)}(window),!function(e){for(var t,i=["Width","Height"];t=i.pop();)!function(t,i){e.fn[t]=t in new Image?function(){return this[0][t]}:function(){var e,t,n=this[0];return"img"===n.tagName.toLowerCase()&&(e=new Image,e.src=n.src,t=e[i]),t}}("natural"+t,t.toLowerCase())}(jQuery),function(e){e.fn.rwdImageMaps=function(){var t=this,i=parseFloat(e.fn.jquery),n=function(){t.each(function(){if("undefined"!=typeof e(this).attr("usemap")){var t=this,n=e(t);e("<img />").load(function(){var r,o,s="width",a="height";if(i<1.6?(r=t.getAttribute(s),o=t.getAttribute(a)):(r=n.attr(s),o=n.attr(a)),!r||!o){var l=new Image;l.src=n.attr("src"),r||(r=l.width),o||(o=l.height)}var d=n.width()/100,c=n.height()/100,h=n.attr("usemap").replace("#",""),u="coords";e('map[name="'+h+'"]').find("area").each(function(){var t=e(this);t.data(u)||t.data(u,t.attr(u));for(var i=t.data(u).split(","),n=new Array(i.length),s=0;s<n.length;++s)s%2===0?n[s]=parseInt(i[s]/r*100*d):n[s]=parseInt(i[s]/o*100*c);t.attr(u,n.toString())})}).attr("src",n.attr("src"))}})};return e(window).resize(n).trigger("resize"),this}}(jQuery),SSResource.prototype._init=function(){this._initResourceConfig(),this.status="initialized"},SSResource.prototype.reset=function(){if(this.status="initialized",this.retries=0,this.suffixes){var e,t;for(e in this.suffixes)t=this.suffixes[e],t.status="initialized",delete t.startTime,t.retries=2}},SSResource.prototype.load=function(){this.status="loading",this.loadBlocked||(this.startTime=(new Date).getTime(),this._tryLoad())},SSResource.prototype.update=function(e){var t,i;for(t in e)i=e[t],"image"===this.resourceKey&&"sizes"===t?this.delayedInitialize&&this.delayedInitialize(i):"image"===this.resourceKey&&"linkData"===t?this.addLinks(i):this[t]=i},SSResource.prototype.resourceErrorInternalHandler=function(){var e=this;return function(t){var i=e.startTime,n=(new Date).getTime()-i,r=e.retries;r>0&&n<e.TIMEOUT_LIMIT?(r-=1,e.update({retries:r}),setTimeout(function(){e._tryLoad()},e.RETRY_WAIT_TIME)):$.slideshareEventManager.trigger("resourceloadfailed",{index:e.config.slideIndex,resourceKey:e.resourceKey})}},SSSlide.prototype.setContentDimensions=function(e,t){this.contentWidth=e,this.contentHeight=t},SSSlide.prototype._init=function(){this.status="initialized",this.controller=$.slideshareEventManager.getController(),this.playerContainer="#"+this.controller.config.container,this.$stage=$(this.playerContainer+" .stage"),this.$slide=this.$stage.find(".slide").eq(this.index-1),this.$imageEle=this.$slide.children(".slide_image"),this.viewModes={},this.resources={},this._createResources(),this._bindEvents()},SSSlide.prototype.stop=function(){},SSSlide.prototype._createResources=function(){switch("undefined"==typeof this.config.timestamp&&(this.config.timestamp=(new Date).getTime()),this.config.slideMode){case"image":var e={};this.resources.image=new SSFallbackImageResource({baseUrl:this.config.bucketLocation,timestamp:this.config.timestamp,resourceKey:"image",indexGenerator:this.config.indexGenerator,playerWidth:this.config.playerWidth,slideIndex:this.index,realIndex:this.realIndex,is_private:this.config.is_private,signatures:e,availableSizes:this.config.availableSizes,contentWidth:this.contentWidth,privateImageSignatures:this.config.privateImageSignatures,conversionVersion:this.config.conversionVersion,isFullscreen:this.isFullscreen(),show_image_player:this.config.show_image_player});break;case"html":this.resources.image=new SSBgImageResource({baseUrl:this.config.bucketLocation,availableSizes:this.config.availableSizes,timestamp:this.config.timestamp,resourceKey:"image",indexGenerator:this.config.indexGenerator,playerWidth:this.config.playerWidth,slideIndex:this.index,realIndex:this.realIndex,is_private:this.config.is_private,contentWidth:this.contentWidth,conversionVersion:this.config.conversionVersion,privateImageSignatures:this.config.privateImageSignatures}),this.resources.html=new SSHtmlResource({baseUrl:this.config.bucketLocation,timestamp:this.config.timestamp,resourceKey:"html",indexGenerator:this.config.indexGenerator,slideIndex:this.index,realIndex:this.realIndex,is_private:this.config.is_private,conversionVersion:this.config.conversionVersion,signature:this.config.htmlResourceSignature})}delete this.config.availableSizes},SSSlide.prototype.reset=function(){this.status="initialized";var e;for(e in this.resources)resource=this.resources[e].reset()},SSSlide.prototype.load=function(){if("cached"===this.status)return this._getNewResourceVersions(this.currentViewMode.wrapperWidth),void $.slideshareEventManager.trigger("slideloaded",{index:this.index});if("loading"===this.status)return void $.slideshareEventManager.trigger("slideloading",{index:this.index});if("failed"===this.status)return void $.slideshareEventManager.trigger("slideloadfailed",{index:this.index});this.status="loading",$.slideshareEventManager.trigger("slideloading",{index:this.index});var e;for(e in this.resources)resource=this.resources[e],resource.status="loading",resource.load()},SSSlide.prototype.updateResource=function(e,t){"undefined"!=typeof this.resources[e]&&this.resources[e].update(t)},SSSlide.prototype.displayError=function(e,t){this.empty(),e.appendTo(this.currentViewMode.wrapper);var i=this,n=e.find("input");t?n.hide():n.bind("click",function(e){e.preventDefault(),e.stopPropagation(),i.reset(),i.load()})},SSSlide.prototype.paint=function(){if("undefined"==typeof this.currentViewMode.imageElement&&this.render(),this.currentViewMode.imageElement.css({width:this.currentViewMode.width}),"html"===this.config.slideMode){var e;e=Modernizr.csstransforms?{"-moz-transform":"scale("+this.currentViewMode.contentScale+")","-webkit-transform":"scale("+this.currentViewMode.contentScale+")","-o-transform":"scale("+this.currentViewMode.contentScale+")",msTransform:"scale("+this.currentViewMode.contentScale+")",
"-moz-transform-origin":"0 0","-webkit-transform-origin":"0 0","-o-transform-origin":"0 0",msTransformOrigin:"0 0"}:{zoom:this.currentViewMode.contentScale},this.currentViewMode.contentElement.css({width:this.currentViewMode.width,height:this.currentViewMode.height}),this.currentViewMode.contentElement.children(".ssml_div").css(e),this.areLinksEnabled()||this.currentViewMode.contentElement.find(".ssml_a").remove()}else"image"===this.config.slideMode&&this.config.show_image_player!==!0&&this._updateLinks()},SSSlide.prototype.isFullscreen=function(){return"fullscreen"===this.currentMode||"nativefullscreen"===this.currentMode},SSSlide.prototype.render=function(){this.empty();var e,t,i=this;switch($.slideshareEventManager.getCurrentPosition(),"#"+i.controller.config.container,this.config.slideMode){case"html":e=$("<img/>").css({height:"auto",position:"absolute",top:0,left:0,margin:0,padding:0}),t=this.resources.image.getContent();break;case"image":e=this.$imageEle,t=this.isFullscreen()||this.$stage.width()>640?this.$imageEle.data("full"):this.$stage.width()<=320?this.$imageEle.data("small"):this.$imageEle.data("normal")}if("undefined"!=typeof t){this.imageEle=e,this.currentViewMode.imageElement=e;var n=new Image;n.onload=function(){if("undefined"!=typeof r&&"undefined"!=typeof _gaq){var e=new Date-r;_gaq.push(["_trackTiming","image","slide_load",e,i.index.toString()])}var n=i.controller.currentPosition,o=i.$slide.height(),s=i.$stage.scrollTop();if(i.$slide.css("min-height",0),"undefined"==typeof i.controller.firstLoad?i.controller.firstLoad=!0:i.controller.firstLoad=!1,i.currentViewMode.imageElement.attr({src:t}),i.$slide.find(".fa-spinner").remove(),"infographic"===i.config.playerType&&i.addScrollIfNeeded(),"document"===i.config.playerType){var a=i.$slide.height()-o;i.controller.firstLoad&&!isMobile()&&i.controller.currentComponentSet.slidedisplayer.$slides&&(i.controller.currentComponentSet.slidedisplayer.$slides.css("min-height",i.$slide.height()),s+=a*(n-2)),i.index<n&&i.$stage.scrollTop(s+a)}$(window).trigger("resize");var l=function(){i.loadLinks()};if(i.config.show_image_player&&("complete"===document.readyState?l():window.addEventListener?window.addEventListener("load",l,!1):window.attachEvent&&window.attachEvent("onload",l)),"function"==typeof isIos&&isIos()&&$(this).css("-webkit-backface-visibility","hidden"),"slideview"===i.config.hosted_in&&!i.config.show_image_player){var d=$(this).height();$(this).css("height","auto");var c=$(this).height();if(d!==c&&!window.slideResizeEventFired){window.slideResizeEventFired=!0;var h=i.config.ssid,u="00",p=/slide-(\d+)-.*/;p.test(this.src)&&(u=this.src.match(p)[1]);var f=h+"_slide_"+u;$.slideshareEventManager.trackRawEvent("jsplayer_debug","slideresize",f)}$(this).css("height","auto")}},n.src=t;var r=new Date;if(this.config.show_image_player||e.appendTo(this.currentViewMode.wrapper),"html"===this.config.slideMode){var o="<style>"+this.resources.html.getContent().style+"</style>";$(o).appendTo(this.currentViewMode.wrapper),this.currentViewMode.contentElement=$("<div/>").css({position:"absolute",overflow:"hidden"}).html(this.resources.html.getContent().html),this.currentViewMode.contentElement.appendTo(this.currentViewMode.wrapper)}}},SSSlide.prototype.addScrollIfNeeded=function(){var e=15;this.$imageEle.height()>this.$slide.height()+e&&this.$slide.css("overflow-y","auto")},SSSlide.prototype.areLinksEnabled=function(){return!!(this.config.is_render_all_links||"undefined"!=typeof slideshare_object&&slideshare_object.user.su)||$.inArray(this.index,[1,2,3])===-1},SSSlide.prototype.loadLinks=function(){var e=this;return e.controller.linksLoaded===!0?void this.renderLinksForSlide():void $.jsonp({url:e.config.bucketLocation+"/meta.js?"+this.config.timestamp,callback:"slideshare_jsonp_meta_hook_trigger",cache:!0,timeout:1e4,success:function(t){e.controller.links=t.links,e.controller.linksLoaded=!0,e.controller.clickGenTracker.registerLinksMetadata(t.links),e.renderLinksForSlide(),e.controller.slideAspectRatio=t.sizes[1].height/t.sizes[1].width,e.controller.updateEmbedSizes()}})},SSSlide.prototype.renderLinksForSlide=function(){if(this.areLinksEnabled()){var e=this,t="#"+e.controller.config.container,i=this.index-this.config.linkOffset;if("undefined"==typeof e.controller.links||"undefined"==typeof e.controller.links[i])return;var n,r,o,s=this.imageEle,a=s.naturalWidth(),l=s.naturalHeight(),d=e.controller.links[i].links,c=d.length,h="image_map_"+this.index+"_"+(new Date).getTime();void 0!==this.currentViewMode.imageMapId&&$("#"+this.currentViewMode.imageMapId).remove(),this.currentViewMode.imageMapId=h;var u='<map id="'+h+'" name="'+h+'">';for(n=0;n<c;n++){r=d[n],o=[parseInt((r.box[0]||0)*a/100,10),parseInt((r.box[3]||0)*l/100,10),parseInt((r.box[2]||0)*a/100,10),parseInt((r.box[1]||0)*l/100,10)],o=o.join(",");var p='<area shape="rect" target="_blank" coords="'+o+'" href="'+r.url+'" rel="nofollow" data-linkIndex="'+n+'" data-slideIndex="'+this.index+'" />';u+=p}u+="</map>";var f=$(u).appendTo(t+" .image_maps");s.attr("usemap","#"+h),$(document).ready(function(){s.rwdImageMaps()}),f.find("area").click(function(e){var t=e.target;$.slideshareEventManager.trackOutboundClick(t)})}},SSSlide.prototype._updateLinks=function(){void 0!==this.currentViewMode.imageMapId&&$("#"+this.currentViewMode.imageMapId).remove(),this._renderLinks()},SSSlide.prototype._renderLinks=function(){var e=this.resources.image.links;if(void 0!==e){var t,i,n,r=this.currentViewMode.width,o=this.currentViewMode.height,s=e.length,a="image_map_"+this.currentMode+"_"+this.index+parseInt(2500*Math.random(),10),l='<map id="'+a+'" name="'+a+'">';for(t=0;t<s;t++)i=e[t],n=[parseInt((i.box[0]||0)*r/100,10),parseInt((i.box[3]||0)*o/100,10),parseInt((i.box[2]||0)*r/100,10),parseInt((i.box[1]||0)*o/100,10)],n=n.join(","),l=l+'<area shape="rect" coords="'+n+'" href="'+i.url+'" rel="nofollow" />';l+="</map>",$(l).appendTo(this.currentViewMode.wrapper),this.currentViewMode.imageElement.attr("usemap","#"+a),this.currentViewMode.imageMapId=a}},SSSlide.prototype._getNewResourceVersions=function(){this.resources.image._tryLoad(this.currentViewMode.wrapperWidth)},SSSlide.prototype.updateRenderedResourceVersion=function(e){this.currentViewMode.rendered&&"image"===e&&void 0!==this.currentViewMode.imageElement&&this.currentViewMode.imageElement.attr({src:this.resources.image.getContent()})},SSSlide.prototype._bindEvents=function(){},SSFontResource.prototype=new SSResource,SSFontResource.prototype._initResourceConfig=function(){var e=this.resourceTemplate;this.url=e.prefix+"meta-"+this.config.indexString+this.config.suffix+"?"+this.config.timestamp,this.cacheable=e.cacheable,this.retries=e.retries||0,this.isCritical=e.isCritical},SSFontResource.prototype._tryLoad=function(){$.jsonp({url:this.url,callback:"slideshare_jsonp_font_hook_trigger",success:this.resourceLoadedInternalHandler(),error:this.resourceErrorInternalHandler(),cache:!0,timeout:1e4})},SSFontResource.prototype.resourceLoadedInternalHandler=function(){var e=this;return function(t){e.status="cached",$.slideshareEventManager.trigger("fontresourceloaded",{style:t.style})}},SSFontResource.prototype.resourceErrorInternalHandler=function(){var e=this;return function(t){var i=e.startTime,n=(new Date).getTime()-i,r=e.retries;r>0&&n<e.TIMEOUT_LIMIT?(r-=1,e.update({retries:r}),setTimeout(function(){e._tryLoad()},1e3)):$.slideshareEventManager.trigger("fontloadfailed",{})}},SSHtmlResource.prototype=new SSResource,SSHtmlResource.prototype.ready=function(){this._initResourceConfig(),this.loadBlocked=!1,"loading"===this.status&&this.load()},SSHtmlResource.prototype._initResourceConfig=function(){if(!this.config.is_private||void 0!==this.config.signature){var e=this.resourceTemplate,t=this.config.indexGenerator(this.config.realIndex,e.digitLength);this.config.is_private?this.url=e.prefix+e.key+t+".js"+this.config.signature:this.url=e.prefix+e.key+t+e.suffix,this.cacheable=e.cacheable,this.retries=e.retries||0,this.isCritical=e.isCritical}},SSHtmlResource.prototype.updateSignature=function(e){this.config.signature=e},SSHtmlResource.prototype._tryLoad=function(){$.jsonp({url:this.url,callback:"slideshare_jsonp_hook_trigger",success:this.resourceLoadedInternalHandler(),error:this.resourceErrorInternalHandler(),cache:!0,timeout:1e4})},SSHtmlResource.prototype.resourceLoadedInternalHandler=function(){var e=this;return function(t){var i=t.style.replace(/a\.ssml_a \{.*?\}/,"").replace(/\.ssml_div span \{.*?\}/,"").replace(/\.ps([\s\S]*?)\{[\s\S]*?\}/g,"").replace(/@font-face[\s\S]*?\{[\s\S]*?\}/g,"");e.html=t.html,e.style=i,$.slideshareEventManager.trigger("resourceloaded",{index:e.config.slideIndex,resourceKey:e.resourceKey})}},SSHtmlResource.prototype.getContent=function(){return{html:this.html,style:this.style}},SSImageResource.prototype=new SSResource,SSImageResource.prototype._initResourceConfig=function(){if(void 0!==this.imageVersions){var e=this.resourceTemplate;this.indexString=this.config.indexGenerator(this.config.realIndex,e.digitLength),this.suffixes=this._getSuffixes(),this.cacheable=e.cacheable,this.retries=e.retries||0,this.isCritical=e.isCritical,this.privateUrls={}}},SSImageResource.prototype._getUrl=function(e){return e[e.length-1].url},SSImageResource.prototype._mapSizesToVersions=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&(t[parseInt(i,10)]=e[i]);return t},SSImageResource.prototype._setUrlGenerator=function(e){e?(this.useTimeStamp=!1,this._generateUrl=this._generatePrivateUrl):this._generateUrl=this._generateUrl},SSImageResource.prototype.delayedInitialize=function(e){this.imageVersions=this._mapSizesToVersions(e.availableSizes),this.contentWidth=e.contentWidth,this._setUrlGenerator(e.is_private),e.is_private||this.ready()},SSImageResource.prototype.ready=function(){this._initResourceConfig(),delete this.imageVersions,this.loadBlocked=!1,"loading"===this.status&&this.load()},SSImageResource.prototype._tryLoad=function(e){e=e||this.config.playerWidth;var t,i=this._getAppropriateWidth(e),n=this.suffixes[i];if(t=this._getUrl(n),i!==this.currentWidth||"initialized"===n.status){if("failed"===n.status)return void this.versionErrorInternalHandler(i,t)();if(this.currentWidth=i,"loading"!==n.status){if("loaded"===n.status)return void this.versionLoadedInternalHandler(i,t)();if(n.status="loading",void 0===n.startTime&&(n.startTime=(new Date).getTime()),this.config.show_image_player){var r=$(".slide").eq(this.config.realIndex-1).children();t=this.config.isFullScreen?r.data("full"):r.data("normal")}var o=new Image;$(o).bind("load",this.versionLoadedInternalHandler(i,t)).bind("error",this.versionErrorInternalHandler(i)),void 0!==t&&(o.src=t)}}},SSImageResource.prototype.versionLoadedInternalHandler=function(e,t){var i=this;return function(n){i.suffixes[e].status="loaded","loading"===i.status?(i.url=t,i.resourceLoadedInternalHandler()()):"cached"===i.status&&e===i.currentWidth&&(i.url=t,$.slideshareEventManager.trigger("currentversionloaded",{index:i.config.slideIndex,resourceKey:i.resourceKey}))}},SSImageResource.prototype.versionErrorInternalHandler=function(e){var t=this;return function(i){var n=t.suffixes[e],r=n.startTime,o=(new Date).getTime()-r,s=n.retries;if(s>0&&o<t.TIMEOUT_LIMIT)s-=1,n.retries=s,n.status="initialized",setTimeout(function(){t._tryLoad()},t.RETRY_WAIT_TIME);else if(n.status="failed","loading"===t.status&&e===t.currentWidth){var a,l=!1;for(a in t.suffixes){var d=t.suffixes[e];"loading"!==d.status&&"loaded"!=d.status||(l=!0)}l||t.resourceErrorInternalHandler()()}}},SSImageResource.prototype.resourceLoadedInternalHandler=function(){var e=this;return function(t){$.slideshareEventManager.trigger("resourceloaded",{index:e.config.slideIndex,resourceKey:e.resourceKey})}},SSImageResource.prototype.getContent=function(){var e=this.suffixes[this.currentWidth];if("loaded"===e.status)return this.url;var t;for(t in this.suffixes)if(e=this.suffixes[t],"loaded"===e.status)return url=this._getUrl(e),url;return this.url},SSImageResource.prototype._getAppropriateWidth=function(e){var t,i,n,r=this.suffixes,o=[],s=426,a=638;for(i in r)i=parseInt(i,10),r.hasOwnProperty(i)&&o.push(i);for(o.sort(function(e,t){return e-t}),e<s&&window.devicePixelRatio>=2&&(e=a),t=0;t<o.length;t++)if(i=o[t],n=i,e<=i)return i;return n},SSMetaResource.prototype=new SSResource,SSMetaResource.prototype._initResourceConfig=function(){var e=this.resourceTemplate;this.url=e.url+"?"+this.config.timestamp,this.cacheable=e.cacheable,this.retries=e.retries||0,this.isCritical=e.isCritical},SSMetaResource.prototype._tryLoad=function(){$.jsonp({url:this.url,callback:"slideshare_jsonp_meta_hook_trigger",success:this.resourceLoadedInternalHandler(),error:this.resourceErrorInternalHandler(),cache:!0,timeout:1e4})},SSMetaResource.prototype.resourceLoadedInternalHandler=function(){var e=this;return function(t){e.status="loaded",$.slideshareEventManager.trigger("metadataloaded",{type:e.config.type,json:t})}},SSMetaResource.prototype.resourceErrorInternalHandler=function(){var e=this;return function(t){var i=e.startTime,n=(new Date).getTime()-i,r=e.retries;r>0&&n<e.TIMEOUT_LIMIT?(r-=1,e.update({retries:r}),setTimeout(function(){e._tryLoad()},1e3)):$.slideshareEventManager.trigger("metadataloadfailed",{type:e.config.type})}},SSBgImageResource.prototype=new SSImageResource,SSBgImageResource.prototype._generateUrl=function(e,t,i){return this.config.baseUrl+"images/"+parseInt(i,10)+"/slide-"+e+"-"+t+".jpg?cb="+this.config.timestamp},SSBgImageResource.prototype._generatePrivateUrl=function(e,t,i){return this.config.baseUrl+"images%2F"+parseInt(i,10)+"%2Fslide-"+e+"-"+t+".jpg"+this.config.privateImageSignatures[t][i].url},SSBgImageResource.prototype._getSuffixes=function(){var e,t,i,n,r,o,s={},a=this.imageVersions;this.config.timestamp;for(t in a)if(a.hasOwnProperty(t))for(t=parseInt(t,10),i=a[t],s[t]=[],n=i.length,e=0;e<n;e++)r=parseInt(i[e],10),o={url:this._generateUrl(this.indexString,t,i[e]),status:"initialized",retries:2},s[t][isNaN(r)?75:r]=o;return s},SSFallbackImageResource.prototype=new SSImageResource,SSFallbackImageResource.prototype._generateUrl=function(e,t,i){return this.config.baseUrl+"/"+i+"/slide-"+e+"-"+t+".jpg?"+this.config.timestamp},SSFallbackImageResource.prototype._generatePrivateUrl=function(e,t,i){return"undefined"==typeof this.config.privateImageSignatures?"":this.config.baseUrl+"%2F"+i+"%2Fslide-"+e+"-"+t+".jpg"+this.config.privateImageSignatures[t][i].url},SSFallbackImageResource.prototype._getSuffixes=function(){var e,t,i,n,r,o,s=[],a=this.imageVersions;for(t in a)if(a.hasOwnProperty(t))for(t=parseInt(t,10),n=a[t],s[t]=[],o=n.length,e=0;e<o;e++)r=parseInt(n[e],10),i={url:this._generateUrl(this.indexString,t,r),status:"initialized",retries:2},s[t][r]=i;return s},SSFallbackImageResource.prototype.addLinks=function(e){this.links=e.links||[]},SSFallbackImageResource.prototype.addSignature=function(e){this.config.privateImageSignatures=e},SSBandInteraction.prototype._init=function(){var e=this,t=this.config.container,i=this.config.linksDisabled;t.bind("mousedown",function(n){if(1===n.which){var r=$(this).offset();e.startX=n.pageX-r.left,t.bind("mouseup",function(e){var n,r=e.target,o=r.tagName.toUpperCase();if(i?n=!1:"SPAN"===o&&"A"===r.parentNode.tagName.toUpperCase()?n=r.parentNode:"A"!==o&&"AREA"!==o||(n=r),n){var s=parseInt(n.attributes.href.value,10);isNaN(s)&&window.open(n.href),$.slideshareEventManager.trackOutboundClick(n)}t.unbind("mouseup")})}}),$(t).bind("click",function(e){e.preventDefault()}),$(this).bind("bandclick",function(t){t.preventDefault();var i=t.ssData.x,n=e.config.width/3;i<n?$(e).trigger("bandprevious"):i>2*n&&$(e).trigger("bandnext")});var n=$(".leftpoint");n.click(function(t){$(e).trigger("bandprevious")});var r=$(".rightpoint");r.click(function(t){$(e).trigger("bandnext")})},SSBandInteraction.prototype.activate=function(){$(this).bind("bandprevious",function(){$.slideshareEventManager.trigger("previous",{source:"band"})}),$(this).bind("bandnext",function(){$.slideshareEventManager.trigger("next",{source:"band"})})},SSBandInteraction.prototype.deactivate=function(){$(this).unbind("bandprevious"),$(this).unbind("bandnext")},SSBandInteraction.prototype.destroy=function(){},SSInfographicDisplayer.prototype=new SSSlideDisplayer,SSInfographicDisplayer.prototype.start=function(e){"undefined"==typeof this.slidesContainer&&(this.slidesContainer=$(".slide_container"),this.bindEvents()),this.config.playerBgColor&&(this.playerBgColor=this.config.playerBgColor),this.slides=e.slides,this.slide=this.slides[1],this.slideContainer=this.slidesContainer.children(".slide"),this.slide.setContainer({mode:e.mode,bgColor:this.playerBgColor,container:this.slideContainer})},SSInfographicDisplayer.prototype.bindEvents=function(){this.config.isMobileDevice||this.slidesContainer.bind("click",function(e){e.preventDefault(),e.stopPropagation(),$.slideshareEventManager.trigger("viewfullscreen")})},SSInfographicDisplayer.prototype.setDimensions=function(e){"object"==typeof e&&(this.config.width=e.width,this.config.height=e.height)},SSInfographicDisplayer.prototype.emptySlides=function(){},SSInfographicDisplayer.prototype.setPrerenderedSlides=function(){},SSInfographicDisplayer.prototype.showInitializer=function(){this.config.show_image_player||$("<div/>").addClass(".jsplInitializer").css({width:this.container.width()-10,height:this.container.height()-20}).text(slideshare_object.utils.i18n("slideshow.foundation_slideview.loading")).appendTo(this.container)},SSInfographicDisplayer.prototype._scrollTo=function(e){if(this.config.show_image_player){var t=this.slidesContainer.children();return t.removeClass("show"),void t.eq(e-1).addClass("show")}},SSInfographicSlide.prototype=new SSSlide,SSInfographicSlide.prototype.empty=function(){},SSInfographicSlide.prototype.setContainer=function(e){var t=e.mode;void 0===this.viewModes[t]&&(this.viewModes[t]={rendered:!1,bgColor:e.bgColor||"jsplBgColorBigfoot",container:e.container,wrapper:$("<div/>")}),this.viewModes[t].container.css({position:"relative"}),this.currentViewMode=this.viewModes[t],this.currentViewMode.wrapper.removeClass("hide"),this.currentMode=e.mode},SSInfographicSlide.prototype.show=function(e){this.currentViewMode.rendered&&!e||(this.currentViewMode.rendered=!0,this.load())},SSInfographicSlide.prototype.hide=function(){this.$slide.hide()},SSInfographicSlide.prototype.displayLoading=function(){},SSInfographicSlide.prototype.bindScrollEvents=function(){var e=this,t=$("#slideview-container");$(document).ready(function(){var i=parseInt($("#main-nav").height(),10)||51,n=8,r=0,o=550,s=550,a=$("#svPlayerId"),l=parseInt(a.css("height"),10);if(l<s)return void t.removeClass("infographicHoverTitle");var d=!0;setInterval(function(){d=!0},10),"infographic"===e.config.playerType&&$(window).on("scroll",function(e){if(d&&a&&a.offset()){d=!1;var s=a.offset().top-i,c=$(this).scrollTop(),h=l+s-o;c>h&&(c=h);var u=$.slideshareEventManager.getController(),p="nativefullscreen"===u.currentViewMode||"fullscreen"===u.currentViewMode;if(c>s&&!p){$(".action-btns-container").css("top",n+c-s+"px"),$(".modal-popup").css("top",r+c-s+"px");var f=$(this).scrollTop()+$(this).height()-a.height()-a.offset().top;t.toggleClass("infographicHoverTitle",f<=0)}else $(".action-btns-container").css("top",n+12+"px"),$(".modal-popup").css("top",r+"px")}})})},SSPresentationDisplayer.prototype=new SSSlideDisplayer,SSPresentationDisplayer.prototype.initPointlyFinger=function(){this.rightbandInteraction=$("<div/>").attr({"class":"rightpoint pointly"}).appendTo(this.container),this.leftbandInteraction=$("<div/>").attr({"class":"leftpoint pointly"}).appendTo(this.container)},SSPresentationDisplayer.prototype._scrollTo=function(e){if("playing"===this.state){if(this.config.show_image_player){var t=this.slidesContainer.children();return t.removeClass("show"),void t.eq(e-1).addClass("show")}var i="function"==typeof isIos&&isIos(),n=this.slideOffsets[e]*-1,r=!1;r&&i?this.slidesContainer.css({"-webkit-transform":"translateX("+n+"px)","-webkit-transition":"-webkit-transform 275ms ease-in-out"}):this.slidesContainer.css("margin-left",n)}},SSPresentationDisplayer.prototype.start=function(e){var t,i;void 0===this.slideContainers&&(this.slideContainers=[]);var n=this.slideContainers;if(void 0===this.slides)for(this.slides=e.slides,this.state="playing",this.hideInitializer(),this.slidesContainer=this.config.show_image_player?$(".slide_container"):$("<div/>").appendTo(this.container),t=1;t<=this.config.slideCount;t++)n[t]=this.config.show_image_player?$(".slide").eq(t-1):$("<div/>").appendTo(this.slidesContainer);for(!this.config.show_image_player&&this.slidesContainer.removeClass(this.playerBgColor).addClass("slidesContainer "+e.playerBgColor),e.playerBgColor&&(this.slidesContainer.removeClass(this.playerBgColor),this.playerBgColor=e.playerBgColor,this.slidesContainer.addClass(this.playerBgColor)),t=1;t<=this.config.slideCount;t++)i=this.slides[t],i.setContainer({mode:e.mode,container:n[t],bgColor:this.playerBgColor,slideNumber:t})},SSPresentationDisplayer.prototype.showInitializer=function(){var e,t;e=this.container.height()/2-16,t=this.container.width()/2-16,$("<img/>").attr({src:this.config.spinnerUrl,"class":"jsplInitializer"}).css({width:32,height:32,top:e,left:t}).appendTo(this.container)},SSPresentationDisplayer.prototype.setDimensions=function(e){"object"==typeof e&&(this.config.width=e.width,this.config.height=e.height);var t=e&&e.partial;if(!this.config.show_image_player&&this.container.css({height:this.config.height,width:this.config.width}),!t&&"playing"===this.state){this.panelWidth=0;var i,n,r;for(r=0,i=1;i<=this.config.slideCount;i++)n=this.slides[i],!this.config.show_image_player&&n.setDimensions({parentHeight:this.config.height,parentWidth:this.config.width}),this.slideOffsets[i]=r,r+=n.wrapperOffset();this.slidesContainer.width(r),this.width=r}},SSPresentationDisplayer.prototype.setPrerenderedSlides=function(e){var t;for(t=e.start;t<=e.end;t++)$.inArray(t,this.prerenderedSlides)===-1&&this.prerenderedSlides.push(t)},SSPresentationDisplayer.prototype.emptySlides=function(){var e;for(e in this.slides){var t=this.slides;if(t.hasOwnProperty(e)){var i=t[e];i.hide()}}this.prerenderedSlides=[]},SSPresentationSlide.prototype=new SSSlide,SSPresentationSlide.prototype.wrapperOffset=function(){return this.currentViewMode.wrapperWidth},SSPresentationSlide.prototype.empty=function(){"undefined"!=typeof this.currentViewMode.wrapper&&this.currentViewMode.wrapper.empty()},SSPresentationSlide.prototype.displayLoading=function(){var e,t;e=this.currentViewMode.height/2-16,t=this.currentViewMode.width/2-16,this.empty(),this.spinnerUrl=this.isFullscreen()?this.config.spinnerUrlFullscreen:this.config.spinnerUrl,$("<img/>").attr({src:this.spinnerUrl}).css({width:32,height:32,top:e,left:t,position:"absolute"}).appendTo(this.currentViewMode.wrapper)},SSPresentationSlide.prototype.setDimensions=function(e){var t,i,n,r,o=e.parentWidth,s=e.parentHeight,a=o/s;void 0===this.contentWidth||void 0===this.contentHeight?(t=o,i=s,n=a,r=n,$.slideshareEventManager.trackRawEvent("jsplayer_debug","no_content_meta_info","st_"+this.config.stripped_title)):(t=this.contentWidth,i=this.contentHeight,n=t/i,r=t/(i-20));var l,d,c,h,u,p,f;r>a?(d=o/t,c=16*d,h=o,l=a/n,f=0,p=(1-l)/2*100+"%",u=l*e.parentHeight):(d=s/i,c=16*d,l=n/a,p=0,f=(1-l)/2*100+"%",h=l*e.parentWidth,u=s),h=parseInt(h,10),u=parseInt(u,10);var g=o,S=s;this.currentViewMode.container.css({width:o,height:s}),!this.config.show_image_player&&this.currentViewMode.wrapper.css({width:h,height:u,top:p,left:f,position:"absolute",padding:this.PADDING,overflow:"hidden"}),this.currentViewMode.wrapperWidth=g,this.currentViewMode.wrapperHeight=S,this.currentViewMode.top=p,this.currentViewMode.left=f,this.currentViewMode.contentScale=d,this.currentViewMode.fontscale=c,this.currentViewMode.width=h,this.currentViewMode.height=u},SSPresentationSlide.prototype.hide=function(){this.currentViewMode.rendered&&(this.empty(),delete this.currentViewMode.contentElement,delete this.currentViewMode.imageElement,this.currentViewMode.rendered=!1)},SSPresentationSlide.prototype.show=function(e){this.currentViewMode.rendered&&!e||(this.currentViewMode.rendered=!0,this.load())},SSPresentationSlide.prototype.play=function(){this.show()},SSPresentationSlide.prototype.setContainer=function(e){var t=e.mode,i=this.viewModes[t],n=!1;this.config.isStartSlide&&this.config.show_image_player&&(n=!0);var r={rendered:n,container:e.container};if(void 0===i?(this.config.show_image_player||(r.wrapper=$("<div/>").appendTo(e.container)),i=r):"nativefullscreen"==t&&(this.config.show_image_player||(r.wrapper=this.currentViewMode.wrapper),i=r),!this.config.show_image_player){i.container.removeClass();var o=e.bgColor||"jsplBgColorBigfoot";o+="undefined"==typeof new_mobile_player?" horizontalStack":" verticalStack",i.container.addClass(o)}var s=e.slideNumber;s&&i.container.attr("slideNumber",s),this.viewModes[t]=i,this.currentViewMode=i,this.currentMode=e.mode},SSVideoEmbedSlide.prototype=new SSPresentationSlide,SSVideoEmbedSlide.prototype._initVideoSlidesLoading=function(){"function"!=typeof window.onYouTubePlayerAPIReady&&(window.onYouTubePlayerAPIReady=function(){$(window.video_slides||[]).each(function(e,t){t.playerReady=!0})}),window.video_slides||(window.video_slides=[]),window.video_slides.push(this)},SSVideoEmbedSlide.prototype._videoReady=function(e){this.ytube_player=e.target},SSVideoEmbedSlide.prototype._playVideo=function(){if(this.ytube_player.getPlayerState)this.ytube_player.getPlayerState()===this.PLAYER_UNINITIALIZED&&this.ytube_player.playVideo();else{var e=this;setTimeout(function(){e._playVideo()},1e3)}},SSVideoEmbedSlide.prototype._pauseVideo=function(){this.ytube_player&&this.ytube_player.pauseVideo&&this.ytube_player.pauseVideo()},SSVideoEmbedSlide.prototype._videoLoadFailed=function(e){$.slideshareEventManager.trigger("videoloadfailed")},SSVideoEmbedSlide.prototype._tryPlayerLoad=function(){},SSVideoEmbedSlide.prototype.retryPlayerLoad=function(){if(clearTimeout(this.retrying),this.playerReady)this._tryPlayerLoad();else{var e=this;this.retrying=setTimeout(function(){e.retryPlayerLoad()},1e3)}},SSVideoEmbedSlide.prototype.removeLoading=function(){var e=this.currentViewMode.wrapper,t="#ytube_player"+this.config.current_video_count,i=".ytube_message";$(t,e).show(),$(i,e).remove()},SSVideoEmbedSlide.prototype.showLoading=function(){var e=this.currentViewMode.wrapper,t=this.config.loading_message_partial;$(t).appendTo(e),this.hideLoadingMessage=!0},SSVideoEmbedSlide.prototype.show=function(e){this.currentViewMode.rendered=!0,this.load(),this.painted&&this.showMessage()},SSVideoEmbedSlide.prototype.showMessage=function(){if(this.hideLoadingMessage)$("#ytube_player"+this.config.current_video_count).show();else{this.showLoading(),clearTimeout(this.removeLoadingTimeout);var e=this;(void 0===this.hideLoadingMessage||this.hideLoadingMessage)&&(this.removeLoadingTimeout=setTimeout(function(){e.removeLoading()},3e3))}},SSVideoEmbedSlide.prototype.emptySlide=function(){this.currentViewMode.contentElement=null,this.currentViewMode.rendered=!1,this.painted=!1,this.ytube_player=null},SSVideoEmbedSlide.prototype.stop=function(){this._pauseVideo()},SSVideoEmbedSlide.prototype.load=function(){$.slideshareEventManager.trigger("slideloaded",{index:this.index})},SSVideoEmbedSlide.prototype.paint=function(){if(0===this.$slide.find(".ytube-container").length){var e=slideshare_object.utils.i18n;this.currentViewMode.contentElement=$('<div class="ytube-container-desktop"></div>'),this.currentViewMode.contentElement.append($('<p class="yt-header">'+e("youtube_embed_block.header")+"</p>"));var t=$("<p><a href=https://www.youtube.com/watch?v="+this.config.video_id+">"+e("youtube_embed_block.link_to_original")+"</a></p>");this.currentViewMode.contentElement.append(t),this.currentViewMode.contentElement.append($('<p class="yt-footer"><a href="https://www.linkedin.com/help/slideshare/answer/65313">'+e("youtube_embed_block.help_text")+"</a></p>")),this.currentViewMode.contentElement.appendTo($("<div/>").addClass("ytube-container").css({height:this.$stage.height()||this.contentHeight}).appendTo(this.$slide))}},SSVideoEmbedSlide.prototype._getNewResourceVersions=function(){},!function(e){function t(){var e,t;i.slideshareEventManager&&(this.$clickgenCTATop=i(d.clickgenCTATop),this.$clickgenCTA=this.$clickgenCTATop.find(d.clickgenCTA),this.clickgenTracker=o.controller.clickGenTracker,s.addClass(d.clickgenCTA,a),n.slideshow.is_clickgen_enabled&&l&&(this.$clickgenCTA.addClass(c.visible),t=o.controller.currentPosition,e=this.clickgenTracker.trackLinkImpressionEvent(n.slideshow.clickgen_url,this.clickgenTracker.LINK_TYPE.OverlaidCTA,t),this.impressionId=e,this.lastSlideWithImpression=t,this.bindEvents()))}var i=e.$,n=e.slideshare_object,r=n.utils.imports("Experiments"),o=i.slideshareEventManager,s=new r,a="slideview-clickgen-cta-2",l=s.is(a,"b"),d={clickgenCTATop:".clickgen-cta-top",clickgenCTA:".j-clickgen-cta",stage:".stage, .image_maps"},c={visible:"visible"};t.prototype={constructor:t,bindEvents:function(){this.$clickgenCTA.off("click").on("click",function(){this.impressionId&&(this.clickgenTracker.trackLinkClickEvent(this.impressionId),e.open(n.slideshow.clickgen_url,"_blank"),e.focus())}.bind(this)),i(d.stage).hover(function(){var e,t;this.$clickgenCTA.hasClass(c.visible)||(this.$clickgenCTA.addClass(c.visible),t=o.controller.currentPosition,t!=this.lastSlideWithImpression&&(e=this.clickgenTracker.trackLinkImpressionEvent(n.slideshow.clickgen_url,this.clickgenTracker.LINK_TYPE.OverlaidCTA,t),this.impressionId=e,this.lastSlideWithImpression=t))}.bind(this),function(){this.$clickgenCTA.removeClass(c.visible)}.bind(this)),o.player&&o.player.one("next previous gotoslide",function(){this.$clickgenCTA.removeClass(c.visible)}.bind(this))}},n.utils.exports("clickgen.ClickgenCTA",t)}(window),function(e){function t(){$.slideshareEventManager&&$.slideshareEventManager.controller?n=new i:$(document).on("slideshare-player-controller:init-done",function(){n=new i})}var i=e.slideshare_object.utils.imports("clickgen.ClickgenCTA"),n=null;t()}(window);